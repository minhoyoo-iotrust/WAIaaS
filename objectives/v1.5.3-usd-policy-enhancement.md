# 마일스톤 v1.5.3: USD 정책 확장 (누적 지출 한도 + 표시 통화)

## 목표

v1.5 가격 오라클 위에 2가지 기능을 추가한다: (1) 월렛 단위 기간별(일/월) 누적 USD 지출 추적으로 분할 전송 우회를 방지하고, (2) USD 외 사용자 선호 법정 통화(KRW, EUR, JPY 등)로 자산 가치를 환산 표시하여 다국어 DX를 개선한다.

---

## 배경

### 1. 누적 지출 한도의 필요성

v1.5에서 건별 USD 정책 평가가 도입되지만, 한도 미만 소액을 반복 전송하면 누적 지출이 의도한 한도를 초과할 수 있다:

```
instant_max_usd: $10

$9 SOL 전송 → INSTANT ✓
$9 USDC 전송 → INSTANT ✓
$9 BONK 전송 → INSTANT ✓
합계 $27 — 건별로는 모두 통과
```

누적 한도는 토큰 종류와 무관하게 **기간 내 총 USD 지출**을 제한하여 이 문제를 해결한다.

### 2. 표시 통화의 필요성

한국/일본/유럽 등 비영어권 Owner는 USD 금액의 체감이 어렵다:

```
현재: "월렛 agent-1이 3.33 SOL ($500)을 전송했습니다"
개선: "월렛 agent-1이 3.33 SOL (₩725,000)을 전송했습니다"
```

정책 평가 로직은 변경하지 않고, **표시 레이어에서만 환율 변환**을 적용하여 DX를 개선한다.

---

## Part 1: 누적 USD 지출 한도

### SpendingLimitRuleSchema 확장

기존 건별 필드(v1.5)에 누적 필드를 추가한다:

```json
{
  "type": "SPENDING_LIMIT",
  "instant_max_usd": 10,
  "notify_max_usd": 100,
  "delay_max_usd": 1000,
  "daily_limit_usd": 500,
  "monthly_limit_usd": 5000
}
```

| 필드 | 설명 |
|------|------|
| daily_limit_usd | 24시간 롤링 윈도우 내 누적 USD 지출 상한 |
| monthly_limit_usd | 30일 롤링 윈도우 내 누적 USD 지출 상한 |

### 핵심 컴포넌트

| 컴포넌트 | 내용 |
|----------|------|
| 누적 추적 | 월렛별 기간 내 USD 지출 합산. transactions 테이블에서 CONFIRMED/SIGNED 상태 트랜잭션의 amount_usd를 집계 |
| 정책 평가 통합 | DatabasePolicyEngine Stage 3에서 건별 평가 후 누적 평가 추가. 건별 OK + 누적 초과 시 APPROVAL로 격상 |
| reserved_amount 연동 | 대기 중(PENDING/DELAYED) 트랜잭션의 USD 환산 금액도 누적에 포함하여 이중 지출 방지 |
| Admin UI | 정책 폼에 daily_limit_usd / monthly_limit_usd 입력 필드 추가. 현재 누적 사용량 표시 |

### 누적 한도 초과 시 동작

기존 4-tier 보안 모델과 일관되게, 누적 한도 초과 시 **무조건 거부가 아닌 APPROVAL 격상**으로 처리한다. Owner에게 판단 기회를 제공한다.

```
1. 건별 USD 평가 → tier_per_tx (INSTANT/NOTIFY/DELAY/APPROVAL)
2. 누적 USD 평가:
   - 기간 내 누적 + 현재 건 USD > daily_limit_usd → APPROVAL로 격상
   - 기간 내 누적 + 현재 건 USD > monthly_limit_usd → APPROVAL로 격상
3. 최종 tier = max(tier_per_tx, tier_cumulative)
```

예시 (daily_limit_usd: $500, 현재 누적 $480):

| 요청 | 예상 누적 | 건별 결과 | 누적 결과 | 최종 |
|------|----------|----------|----------|------|
| $15 전송 | $495 | INSTANT | 한도 내 | INSTANT |
| $30 전송 | $510 | INSTANT | 한도 초과 | **APPROVAL** |

### Owner의 선택지

누적 한도 초과 알림을 받은 Owner는 세 가지 대응이 가능하다:

1. **건별 승인** — Admin UI/API에서 해당 트랜잭션만 승인하여 실행
2. **한도 상향** — daily_limit_usd / monthly_limit_usd 값을 조정 (hot-reload 즉시 반영)
3. **거부** — 트랜잭션 거부

### 오라클 장애 시

- 현재 건의 USD 환산 실패 → 누적 평가 스킵, 건별 네이티브 금액 평가만 수행 (v1.5 graceful fallback 동일)
- 과거 트랜잭션 amount_usd는 트랜잭션 시점에 기록되므로 누적 합산에는 영향 없음

---

## Part 2: 표시 통화 (Display Currency)

### 핵심 원칙

- **평가는 USD, 표시만 변환**: 정책 엔진은 항상 USD로 평가. 환율 변동이 정책 결과에 영향을 주지 않음
- **Zero-config 동작**: Pyth forex 피드로 환율 조회 (API 키 불필요). CoinGecko 활성 시 직접 통화 조회 가능
- **Fallback**: 환율 조회 실패 시 USD 그대로 표시 (기능 저하 없음)

### 지원 통화

Pyth forex 피드(142쌍)와 CoinGecko vs_currencies(46개)의 교집합 기반으로 43개 법정 통화를 지원한다.

#### 1차 지원 (주요 통화)

| 통화 | 코드 | Pyth FX | CoinGecko |
|------|------|---------|-----------|
| 미국 달러 | USD | - (기본) | O |
| 한국 원 | KRW | USD/KRW | O |
| 일본 엔 | JPY | USD/JPY | O |
| 유로 | EUR | EUR/USD | O |
| 영국 파운드 | GBP | GBP/USD | O |
| 중국 위안 | CNY | USD/CNY | O |
| 캐나다 달러 | CAD | USD/CAD | O |
| 호주 달러 | AUD | AUD/USD | O |
| 스위스 프랑 | CHF | USD/CHF | O |
| 싱가포르 달러 | SGD | USD/SGD | O |
| 홍콩 달러 | HKD | USD/HKD | O |
| 인도 루피 | INR | USD/INR | O |

#### 2차 지원 (지역 통화)

| 통화 | 코드 | Pyth FX | CoinGecko |
|------|------|---------|-----------|
| 대만 달러 | TWD | USD/TWD | O |
| 태국 바트 | THB | USD/THB | O |
| 말레이시아 링깃 | MYR | USD/MYR | O |
| 인도네시아 루피아 | IDR | USD/IDR | O |
| 필리핀 페소 | PHP | USD/PHP | O |
| 베트남 동 | VND | USD/VND | O |
| 브라질 헤알 | BRL | USD/BRL | O |
| 멕시코 페소 | MXN | USD/MXN | O |
| 칠레 페소 | CLP | USD/CLP | O |
| 터키 리라 | TRY | USD/TRY | O |
| 폴란드 즐로티 | PLN | USD/PLN | O |
| 체코 코루나 | CZK | USD/CZK | O |
| 헝가리 포린트 | HUF | USD/HUF | O |
| 스웨덴 크로나 | SEK | USD/SEK | O |
| 노르웨이 크로네 | NOK | USD/NOK | O |
| 덴마크 크로네 | DKK | USD/DKK | O |
| 뉴질랜드 달러 | NZD | NZD/USD | O |
| 남아공 랜드 | ZAR | USD/ZAR | O |
| 이스라엘 셰켈 | ILS | USD/ILS | O |
| 사우디 리얄 | SAR | USD/SAR | O |
| UAE 디르함 | AED | USD/AED | O |
| 쿠웨이트 디나르 | KWD | USD/KWD | O |
| 바레인 디나르 | BHD | USD/BHD | O |
| 나이지리아 나이라 | NGN | USD/NGN | O |
| 러시아 루블 | RUB | USD/RUB | O |
| 우크라이나 흐리브냐 | UAH | USD/UAH | O |
| 파키스탄 루피 | PKR | USD/PKR | O |
| 방글라데시 타카 | BDT | - | O |
| 스리랑카 루피 | LKR | - | O |
| 미얀마 챗 | MMK | - | O |
| 조지아 라리 | GEL | - | O |

**총 43개 법정 통화** 지원. Pyth 미지원 통화(BDT, LKR, MMK, GEL)는 CoinGecko 활성 시에만 지원.

### 설정

기본값은 config.toml, 런타임 변경은 Admin Settings:

```toml
[display]
currency = "USD"   # 기본값
```

환경변수: `WAIAAS_DISPLAY_CURRENCY=KRW`

Admin Settings에서 변경 시 SettingsService를 통해 hot-reload 즉시 반영.

### Admin Settings 통화 선택 UI

| 항목 | 내용 |
|------|------|
| 위치 | Admin Settings 페이지 > Display 섹션 |
| UI | 드롭다운(검색 가능). 통화 코드 + 이름 + 기호 표시 (예: "KRW - 한국 원 (₩)") |
| 적용 | 선택 즉시 hot-reload. 페이지 새로고침 없이 모든 금액 표시 갱신 |
| 현재 환율 | 드롭다운 옆에 현재 환율 미리보기 표시 (예: "1 USD = ₩1,450") |

### 환율 서비스 (ForexRateService)

| 항목 | 내용 |
|------|------|
| 인터페이스 | `getRate(from: "USD", to: CurrencyCode): Promise<ForexRate>` |
| Primary 소스 | Pyth Hermes forex 피드 (Zero-config, 38쌍 이상) |
| Fallback 소스 | CoinGecko vs_currencies (opt-in, 46개 통화) |
| 캐시 | 기존 InMemoryPriceCache 재사용. 환율 TTL: 30분 (forex는 crypto보다 변동폭 작음) |
| 장애 시 | 환율 조회 실패 → USD 그대로 표시 (표시 기능 저하, 정책 영향 없음) |

### 적용 범위

| 위치 | 변환 대상 | 예시 |
|------|----------|------|
| Admin 대시보드 | 자산 잔고, 총 자산 가치 | SOL: 12.5 (₩1,875,000) |
| Admin 정책 폼 | USD 임계값 옆에 환산 표시 | instant_max_usd: $10 (≈₩14,500) |
| Admin 트랜잭션 | 트랜잭션 금액 | 3.33 SOL (≈₩725,000) |
| Admin Settings | 통화 드롭다운 + 환율 미리보기 | 1 USD = ₩1,450 |
| 알림 메시지 | 전송/정책 위반 금액 | "≈₩725,000 상당의 SOL 전송" |
| REST API 응답 | `display_amount` 필드 (opt-in) | `"display_amount": "≈₩725,000"` |
| MCP 도구 응답 | 금액 표시 | 환산 금액 포함 |

### 통화 포매팅

`Intl.NumberFormat` API를 활용하여 locale 기반 자동 포매팅:

| 통화 | 포맷 | 예시 |
|------|------|------|
| KRW | ₩#,### (소수점 없음) | ≈₩725,000 |
| JPY | ¥#,### (소수점 없음) | ≈¥75,000 |
| USD | $#,###.## | $500.00 |
| EUR | €#,###.## | ≈€465.50 |
| GBP | £#,###.## | ≈£395.25 |

USD 외 통화는 환율 환산 근사치이므로 "≈" 접두사를 붙인다.

---

## 산출물 요약

### Part 1: 누적 지출 한도

| 항목 | 내용 |
|------|------|
| DB | transactions 테이블에 amount_usd 컬럼 추가 (트랜잭션 시점 USD 환산 금액 기록) |
| 정책 스키마 | daily_limit_usd, monthly_limit_usd 필드 |
| 정책 엔진 | 누적 USD 집계 쿼리 + APPROVAL 격상 로직 |
| Admin UI | 누적 한도 설정 폼 + 현재 사용량 표시 + 한도 상향 기능 |
| SDK/MCP | 정책 생성 시 누적 필드 지원 |
| 알림 | 누적 한도 80% 도달 시 경고 알림, 초과 시 APPROVAL 대기 알림 |

### Part 2: 표시 통화

| 항목 | 내용 |
|------|------|
| ForexRateService | Pyth forex Primary + CoinGecko Fallback, 30분 캐시 |
| Admin Settings | Display 섹션에 통화 드롭다운 + 환율 미리보기 |
| Admin UI | 대시보드/정책 폼/트랜잭션 전체 환산 표시 |
| 알림 | 환산 금액 포함 메시지 |
| REST API | display_amount 필드 opt-in |

---

## 구현 전 확인 사항 (Pre-Implementation Checklist)

### Phase Research에서 반드시 검증할 항목

#### 1. Pyth forex 피드 실제 가용성 확인

문서에서 "Pyth forex 142쌍 지원"을 전제하지만, Pyth Hermes API에서 forex feed ID가 실제로 사용 가능한지 검증이 필요하다. Pyth는 crypto 위주라 forex 피드가 제한적이거나 별도 asset_type일 수 있다.

**검증 방법**: phase research에서 Hermes API 실 호출로 확인
```
GET https://hermes.pyth.network/v2/price_feeds?query=USD/KRW&asset_type=fx
GET https://hermes.pyth.network/v2/price_feeds?query=EUR/USD&asset_type=fx
```

**Fallback 전략**: Pyth forex 미지원 시 CoinGecko `vs_currencies` 파라미터를 Primary로 전환. CoinGecko Simple API는 `?vs_currencies=krw,jpy,eur`로 직접 환산을 지원하며, 기존 CoinGecko 키가 설정되어 있으면 추가 비용 없이 사용 가능.

### 확정된 기술 결정

#### 2. amount_usd 기록 시점 — Stage 1 산출값을 INSERT 시 기록

`resolveEffectiveAmountUsd()`는 Stage 1(정책 평가 전)에서 이미 호출된다. 이 시점의 USD 환산 값을 트랜잭션 INSERT 시 `amount_usd` 컬럼에 함께 기록한다. Stage 6(실행 후)까지 기다리면 가격 변동이 발생할 수 있으므로, 정책 평가와 동일한 시점의 가격을 사용하는 것이 일관성 있다.

```
Stage 1: resolveEffectiveAmountUsd() → usdAmount 산출
       → transactions INSERT 시 amount_usd = usdAmount 함께 기록
Stage 3: 건별 USD 평가 + 누적 USD 평가 (amount_usd 컬럼 집계)
```

#### 3. reserved_amount_usd 컬럼 추가 (이중 지출 방지)

대기 중(PENDING/QUEUED/DELAYED) 트랜잭션의 USD 금액을 누적에 포함하기 위해, `reserved_amount_usd` 컬럼을 추가한다. 실시간 재환산 대신 기록 시점의 USD 값을 사용하여 환율 변동에 의한 불일치를 방지한다.

| 옵션 | 방식 | 선택 |
|------|------|------|
| **A. reserved_amount_usd 컬럼** | INSERT 시 USD 환산 값 기록. 집계 시 SUM만 수행 | **채택** |
| B. 실시간 재환산 | 집계 시마다 오라클 호출하여 재환산 | 환율 변동으로 불일치, 오라클 부하 |

누적 집계 쿼리:
```sql
-- 확정된 트랜잭션
SELECT COALESCE(SUM(amount_usd), 0) FROM transactions
  WHERE wallet_id = ? AND status IN ('CONFIRMED', 'SIGNED')
  AND created_at >= ? AND amount_usd IS NOT NULL

-- 대기 중 트랜잭션 (이중 지출 방지)
+ SELECT COALESCE(SUM(reserved_amount_usd), 0) FROM transactions
  WHERE wallet_id = ? AND status IN ('PENDING', 'QUEUED', 'DELAYED')
  AND reserved_amount_usd IS NOT NULL
```

#### 4. ForexRateService — IPriceOracle과 분리

IPriceOracle은 crypto 자산 가격 전용으로 유지한다. forex 환율은 관심사가 다르므로 별도 `IForexRateService` 인터페이스를 추가한다. `InMemoryPriceCache`는 `forex:USD/KRW` 키 패턴으로 재사용 가능.

```
IPriceOracle (crypto 전용, 변경 없음)
  ├── PythOracleProvider
  └── CoinGeckoOracleProvider

IForexRateService (신규, forex 전용)
  ├── PythForexProvider (Hermes API 동일 엔드포인트, forex feed ID)
  └── CoinGeckoForexProvider (vs_currencies 파라미터)
```

#### 5. 누적 한도 알림 이벤트 — 2개 추가

기존 NotificationEventType에 누적 관련 이벤트 2개를 추가한다:

| 이벤트 | 설명 |
|--------|------|
| CUMULATIVE_LIMIT_WARNING | 누적 한도 80% 도달 시 경고 |
| CUMULATIVE_LIMIT_EXCEEDED | 누적 한도 초과 → APPROVAL 격상 시 |

---

## 기술 결정 사항

| # | 결정 항목 | 선택지 | 결정 근거 |
|---|----------|--------|----------|
| 1 | 누적 윈도우 | 24시간/30일 롤링 (UTC) | 고정 날짜 기준이 아닌 슬라이딩 윈도우로 타임존 모호함 제거 |
| 2 | 누적 초과 시 동작 | APPROVAL 격상 | 4-tier 보안 모델 일관성. 무조건 거부보다 Owner 판단 기회 제공 |
| 3 | 환율 소스 | Pyth forex Primary + CoinGecko Fallback | v1.5 오라클 구조와 동일 패턴. 단, Pyth forex 가용성은 phase research에서 검증 필요 |
| 4 | 환율 캐시 TTL | 30분 | Forex는 crypto 대비 변동폭 작음. 5분은 과도, 1시간은 부정확할 수 있음 |
| 5 | 포매팅 | Intl.NumberFormat | Node.js 내장 API, 외부 의존성 없음. locale별 자동 처리 |
| 6 | API 응답 포함 | display_amount 필드 opt-in | 기본 응답은 USD 유지 (하위 호환). ?display_currency=KRW 쿼리 파라미터 지원 |
| 7 | 설정 변경 방식 | SettingsService + Admin UI | 기존 Settings 인프라(v1.4.4) 재사용. hot-reload 즉시 반영 |
| 8 | amount_usd 기록 시점 | Stage 1 산출값을 INSERT 시 기록 | 정책 평가와 동일 시점의 가격 사용. Stage 6까지 기다리면 가격 변동 가능 |
| 9 | reserved_amount USD | reserved_amount_usd 컬럼 추가 | 실시간 재환산보다 기록 시점 고정이 일관적. 오라클 부하 없음 |
| 10 | 환율 서비스 분리 | IForexRateService (IPriceOracle과 별도) | crypto 가격과 forex 환율은 관심사 분리. InMemoryPriceCache는 공유 |

---

## E2E 검증 시나리오

### Part 1: 누적 지출 한도 (10개)

| # | 시나리오 | 검증 방법 | 태그 |
|---|---------|----------|------|
| 1 | 일별 누적 한도 내 → 건별 평가 유지 | daily_limit_usd=$500, 누적 $400 + $50 전송 → 건별 INSTANT 유지 assert | [L0] |
| 2 | 일별 누적 한도 초과 → APPROVAL 격상 | daily_limit_usd=$500, 누적 $480 + $30 전송 → APPROVAL 격상 assert | [L0] |
| 3 | 월별 누적 한도 초과 → APPROVAL 격상 | monthly_limit_usd=$5000, 누적 $4900 + $200 전송 → APPROVAL 격상 assert | [L0] |
| 4 | 일별+월별 동시 설정 → 더 엄격한 쪽 적용 | daily=$500, monthly=$5000, 일 누적 $490 + $20 → 일별 초과 → APPROVAL assert | [L0] |
| 5 | Owner 승인 후 실행 → 누적에 반영 | APPROVAL 격상 → Owner 승인 → CONFIRMED → 누적 합산에 포함 assert | [L0] |
| 6 | Owner 한도 상향 → hot-reload 즉시 반영 | daily_limit_usd $500→$1000 변경 → 다음 요청에서 새 한도 적용 assert | [L0] |
| 7 | PENDING 트랜잭션 reserved_amount 포함 | $400 PENDING + $150 요청 → 예상 누적 $550 → APPROVAL 격상 assert | [L0] |
| 8 | 24시간 롤링 윈도우 → 오래된 건 제외 | 25시간 전 $300 + 현재 $400 → 누적 $400 (25시간 전 건 제외) assert | [L0] |
| 9 | 오라클 장애 → 누적 평가 스킵 → 건별 네이티브 fallback | 오라클 실패 + 전송 → 누적 미평가 + 건별 네이티브 평가만 수행 assert | [L0] |
| 10 | 누적 80% 도달 → 경고 알림 발송 | daily=$500, 누적 $400 ($9 전송으로 $409 도달) → 80% 경고 알림 assert | [L0] |

### Part 2: 표시 통화 (11개)

| # | 시나리오 | 검증 방법 | 태그 |
|---|---------|----------|------|
| 11 | Admin Settings에서 KRW 선택 → 전체 UI 원화 표시 | Settings 드롭다운 KRW 선택 → 대시보드 잔고 ₩ 표시 assert | [L0] |
| 12 | Admin Settings 변경 → hot-reload 즉시 반영 | USD→KRW 변경 → 페이지 새로고침 없이 금액 갱신 assert | [L0] |
| 13 | 환율 조회 성공 → 알림에 환산 금액 포함 | mock ForexRate(USD/KRW=1450) + SOL 전송 알림 → "≈₩725,000" 포함 assert | [L0] |
| 14 | 환율 조회 실패 → USD 그대로 표시 (graceful fallback) | mock forex 실패 + 알림 → "$500.00" 표시 assert | [L0] |
| 15 | display_currency=JPY → ¥ 기호 + 소수점 없음 포맷 | config JPY + 환산 표시 → "≈¥75,000" 포맷 assert | [L0] |
| 16 | display_currency=EUR → € 기호 + 소수점 2자리 포맷 | config EUR + 환산 표시 → "≈€465.50" 포맷 assert | [L0] |
| 17 | 정책 폼에 USD 임계값 + 환산 동시 표시 | instant_max_usd=10 입력 → 옆에 "(≈₩14,500)" 표시 assert | [L0] |
| 18 | REST API ?display_currency=KRW → display_amount 필드 포함 | GET /v1/wallets/:id/transactions?display_currency=KRW → display_amount 필드 assert | [L0] |
| 19 | Pyth forex 미지원 통화(BDT) + CoinGecko 활성 → 정상 환산 | Settings BDT 선택 + CoinGecko 키 설정 → 환산 표시 assert | [L0] |
| 20 | Pyth forex 미지원 통화(BDT) + CoinGecko 미활성 → USD fallback + 안내 | Settings BDT 선택 + CoinGecko 미설정 → USD 표시 + "CoinGecko API 키 필요" 안내 assert | [L0] |
| 21 | 통화 드롭다운에 환율 미리보기 표시 | Settings 드롭다운 KRW 선택 → "1 USD = ₩1,450" 미리보기 assert | [L0] |

---

## 의존

| 의존 대상 | 이유 |
|----------|------|
| v1.5 (DeFi + 가격 오라클) | IPriceOracle, InMemoryPriceCache, resolveEffectiveAmountUsd(), SpendingLimitRuleSchema USD 필드, Pyth Hermes 인프라 |

---

## 리스크

| # | 리스크 | 영향 | 대응 방안 |
|---|--------|------|----------|
| 1 | 누적 집계 쿼리 성능 | 트랜잭션 수가 많아지면 기간 내 SUM 쿼리 비용 증가 | transactions 테이블에 (wallet_id, created_at, amount_usd) 복합 인덱스 추가. 롤링 윈도우 집계를 인메모리 캐시로 최적화 가능 |
| 2 | 과거 트랜잭션 USD 미기록 | v1.5.3 이전 트랜잭션에는 amount_usd가 없음 | NULL 허용, 누적 집계에서 NULL 제외. 마이그레이션 시 과거 데이터 백필은 선택사항 |
| 3 | 타임존/윈도우 기준 | "일별"의 기준 시점이 모호 | 24시간/30일 롤링 윈도우(UTC) 사용. 슬라이딩 윈도우로 구현 |
| 4 | Pyth forex 시장 시간 제한 | FX 피드는 시장 시간에만 갱신. 주말/공휴일에 stale 가능 | 마지막 유효 환율을 캐시에서 사용. 표시 용도이므로 약간의 지연 허용 |
| 5 | 환율 변동으로 표시 금액 혼란 | 같은 트랜잭션이 시점에 따라 다른 원화 금액으로 표시 | 트랜잭션 목록은 기록 시점 환율 사용. 실시간 잔고는 현재 환율. "≈" 접두사로 근사치 명시 |

---

## 예상 규모

| 항목 | 예상 |
|------|------|
| 페이즈 | 3-4개 (누적 한도 엔진 / 누적 Admin UI / 환율 서비스 + 표시 / 통합 테스트) |
| 신규 파일 | 8-12개 |
| 수정 파일 | 10-15개 |
| 테스트 | 21개 |
| DB 마이그레이션 | 1개 (amount_usd 컬럼 추가) |

---

*최종 업데이트: 2026-02-15 v1.5.3(누적 지출 한도) + v1.5.4(표시 통화)를 하나의 마일스톤으로 통합.*
*선행: v1.5 (DeFi + 가격 오라클)*
