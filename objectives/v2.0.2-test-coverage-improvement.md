# 마일스톤 v2.0.2: 테스트 커버리지 강화

## 목표

v1.7에서 설정한 커버리지 임계값을 모든 패키지에서 실제로 달성하는 상태. 특히 adapter-solana의 브랜치 커버리지를 75% 이상으로 복원하고, 전체 패키지의 커버리지 품질을 균일하게 유지한다.

---

## 배경

v1.7 Phase 151에서 8개 패키지에 커버리지 임계값을 일괄 설정했으나, adapter-solana의 브랜치 커버리지(68.29%)가 목표(75%)에 미달. 이슈 #060에서 임계값을 임시 하향했으므로 이를 복원해야 한다.

---

## 산출물

### 1. adapter-solana 브랜치 커버리지 75% 이상 달성

현재 미커버 78개 브랜치(246개 중 168개 커버) 중 최소 17개 이상 추가 커버 필요.

| 우선순위 | 영역 | 미커버 | 설명 |
|---------|------|--------|------|
| P1 | `convertBatchInstruction()` | ~12 | 4가지 instruction 타입(TRANSFER/TOKEN_TRANSFER/CONTRACT_CALL/APPROVE) 분기 |
| P2 | `signExternalTransaction()` | ~8 | Base64 디코딩 실패, 키 길이 판별(32 vs 64), 서명자 검증 |
| P3 | `tx-parser.ts` | ~15 | 파싱 실패, unknown 명령어, null coalescing fallback |
| P4 | Error instanceof 분기 | ~30 | 모든 메서드의 `instanceof WAIaaSError`/`instanceof Error` false 분기 |
| P5 | 기타 | ~13 | getAssets 정렬, estimateFee 토큰/네이티브 분기 등 |

### 2. 전체 패키지 커버리지 임계값 검증

모든 패키지의 vitest.config.ts 임계값이 실제 커버리지와 일치하는지 점검하고, 불일치 항목 조정.

### 3. 임계값 복원

adapter-solana의 `branches` 임계값을 75로 복원.

---

## 성공 기준

- [ ] adapter-solana 브랜치 커버리지 ≥ 75%
- [ ] 모든 패키지 CI 커버리지 체크 통과
- [ ] 임계값이 실제 수치보다 낮은 패키지 없음
