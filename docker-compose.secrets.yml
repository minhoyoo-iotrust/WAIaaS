# Docker Secrets override for production deployments.
# Usage: docker compose -f docker-compose.yml -f docker-compose.secrets.yml up -d
#
# Before starting, create secret files:
#   mkdir -p secrets
#   echo "your_master_password" > secrets/master_password.txt
#   chmod 600 secrets/master_password.txt
#
# Optional (if Telegram Bot is enabled):
#   echo "your_bot_token" > secrets/telegram_bot_token.txt
#   chmod 600 secrets/telegram_bot_token.txt

services:
  daemon:
    secrets:
      - waiaas_master_password
      - waiaas_telegram_bot_token
    environment:
      - WAIAAS_MASTER_PASSWORD_FILE=/run/secrets/waiaas_master_password
      - WAIAAS_TELEGRAM_BOT_TOKEN_FILE=/run/secrets/waiaas_telegram_bot_token

secrets:
  waiaas_master_password:
    file: ./secrets/master_password.txt
  waiaas_telegram_bot_token:
    file: ./secrets/telegram_bot_token.txt
