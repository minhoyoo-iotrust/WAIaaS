# 로드맵: WAIaaS (AI 에이전트를 위한 Wallet-as-a-Service)

## 개요

이 마일스톤은 AI 에이전트용 지갑 서비스의 설계 문서를 완성합니다. 기술 스택 결정부터 시작하여 커스터디 모델 분석, 시스템 아키텍처 설계, 소유자-에이전트 관계 모델, 그리고 최종 API 스펙까지 순차적으로 진행합니다. 모든 산출물은 구현 마일스톤의 기반이 되는 설계 문서입니다.

## 페이즈

**페이즈 번호 규칙:**
- 정수 페이즈 (1, 2, 3): 계획된 마일스톤 작업
- 소수 페이즈 (2.1, 2.2): 긴급 삽입 (INSERTED 표시)

소수 페이즈는 해당 정수 페이즈 이후, 다음 정수 페이즈 이전에 실행됩니다.

- [x] **Phase 1: 기술 스택 결정** - 프레임워크, 라이브러리, 인프라 선정 ✓
- [ ] **Phase 2: 커스터디 모델 분석** - 키 관리 방식 비교 분석 및 권장 모델 제안
- [ ] **Phase 3: 시스템 아키텍처 설계** - 컴포넌트, 데이터 흐름, 보안 위협 모델링
- [ ] **Phase 4: 소유자-에이전트 관계 모델** - 자금 관리, 권한 제어, 비상 복구 프로세스
- [ ] **Phase 5: API 및 통합 설계** - REST API 스펙, 인증, SDK, MCP 통합

## 페이즈 상세

### Phase 1: 기술 스택 결정
**목표**: 프로젝트 전체에서 사용할 기술 스택을 확정하여 이후 모든 설계의 기반을 마련한다
**의존성**: 없음 (첫 번째 페이즈)
**요구사항**: TECH-01, TECH-02, TECH-03
**플랜**: 2 plans
**성공 기준** (완료 시 참이어야 할 것):
  1. 권장 기술 스택 문서에 프레임워크, 라이브러리, 인프라가 근거와 함께 명시됨
  2. Solana 개발 환경 문서에 SDK 버전, 테스트넷 전략, RPC 프로바이더가 확정됨
  3. 데이터베이스 및 캐싱 전략 문서에 선정 근거와 스키마 방향이 포함됨

플랜:
- [x] 01-01-PLAN.md — 권장 기술 스택(TECH-01) 및 Solana 개발 환경(TECH-02) 문서 작성 ✓
- [x] 01-02-PLAN.md — 데이터베이스 및 캐싱 전략(TECH-03) 문서 작성 ✓

### Phase 2: 커스터디 모델 분석
**목표**: AI 에이전트 지갑에 최적화된 커스터디 모델을 분석하고 권장 방식을 제안한다
**의존성**: Phase 1 (기술 스택이 커스터디 프로바이더 선택에 영향)
**요구사항**: CUST-01, CUST-02, CUST-03, CUST-04
**성공 기준** (완료 시 참이어야 할 것):
  1. Custodial/Non-custodial/MPC-TSS 모델 비교 문서에 각 모델의 장단점이 명확히 분석됨
  2. AI 에이전트 특화 고려사항 문서에 기존 WaaS와의 차이점이 도출됨
  3. Turnkey/Crossmint/Dfns 비교표에 기능, 가격, API 특성이 정리됨
  4. WAIaaS 권장 커스터디 모델 제안서에 선택 근거와 트레이드오프가 명시됨
**플랜**: TBD

플랜:
- [ ] 02-01: TBD
- [ ] 02-02: TBD
- [ ] 02-03: TBD

### Phase 3: 시스템 아키텍처 설계
**목표**: 전체 시스템 구조와 보안 모델을 설계하여 구현의 청사진을 완성한다
**의존성**: Phase 2 (커스터디 모델이 아키텍처의 핵심)
**요구사항**: ARCH-01, ARCH-02, ARCH-03, ARCH-04, ARCH-05
**성공 기준** (완료 시 참이어야 할 것):
  1. Dual Key 아키텍처 문서에 Owner Key와 Agent Key의 역할, 권한, 저장 방식이 상세히 정의됨
  2. 시스템 컴포넌트 다이어그램에 각 서비스의 경계와 책임이 명확히 표현됨
  3. 트랜잭션 흐름 다이어그램에 생성-서명-제출 전 과정이 시각화됨
  4. 보안 위협 모델링 문서에 공격 벡터와 대응 방안이 문서화됨
  5. 멀티체인 확장 문서에 Solana에서 EVM으로의 확장 경로가 정의됨
**플랜**: TBD

플랜:
- [ ] 03-01: TBD
- [ ] 03-02: TBD
- [ ] 03-03: TBD
- [ ] 03-04: TBD

### Phase 4: 소유자-에이전트 관계 모델
**목표**: 소유자와 에이전트 간의 자금 흐름, 권한 관리, 비상 절차를 정의한다
**의존성**: Phase 3 (Dual Key 아키텍처에 의존)
**요구사항**: REL-01, REL-02, REL-03, REL-04, REL-05
**성공 기준** (완료 시 참이어야 할 것):
  1. 자금 충전 프로세스 문서에 소유자가 에이전트에게 운영 자금을 공급하는 흐름이 정의됨
  2. 자금 회수 프로세스 문서에 에이전트에서 소유자로의 자금 이동 절차가 정의됨
  3. 에이전트 키 관리 문서에 키 폐기 및 교체 절차가 명시됨
  4. 비상 회수 메커니즘 문서에 에이전트 장애 시 자금 복구 방법이 설계됨
  5. 멀티 에이전트 관리 문서에 한 소유자가 다수 에이전트를 관리하는 모델이 정의됨
**플랜**: TBD

플랜:
- [ ] 04-01: TBD
- [ ] 04-02: TBD
- [ ] 04-03: TBD

### Phase 5: API 및 통합 설계
**목표**: 외부 개발자와 에이전트 프레임워크가 사용할 인터페이스를 완성한다
**의존성**: Phase 3, Phase 4 (아키텍처와 관계 모델이 확정된 후)
**요구사항**: API-01, API-02, API-03, API-04, API-05, API-06
**성공 기준** (완료 시 참이어야 할 것):
  1. OpenAPI 3.0 스펙에 모든 엔드포인트, 요청/응답 스키마가 정의됨
  2. 인증 모델 문서에 API Key, OAuth 2.1 등 인증 방식이 설계됨
  3. 권한/정책 모델 문서에 한도, 화이트리스트, 시간 제어가 설계됨
  4. 에러 코드 문서에 모든 에러 코드와 처리 규격이 정의됨
  5. SDK 인터페이스 문서에 TypeScript/Python SDK의 메서드 시그니처가 설계됨
  6. MCP 통합 스펙에 에이전트 프레임워크 연동 방법이 정의됨
**플랜**: TBD

플랜:
- [ ] 05-01: TBD
- [ ] 05-02: TBD
- [ ] 05-03: TBD
- [ ] 05-04: TBD

## 진행 상황

**실행 순서:**
페이즈는 숫자 순서대로 실행: 1 -> 2 -> 3 -> 4 -> 5

| 페이즈 | 플랜 완료 | 상태 | 완료일 |
|--------|-----------|------|--------|
| 1. 기술 스택 결정 | 2/2 | ✓ 완료 | 2026-02-04 |
| 2. 커스터디 모델 분석 | 0/3 | 시작 전 | - |
| 3. 시스템 아키텍처 설계 | 0/4 | 시작 전 | - |
| 4. 소유자-에이전트 관계 모델 | 0/3 | 시작 전 | - |
| 5. API 및 통합 설계 | 0/4 | 시작 전 | - |

---
*로드맵 생성: 2025-02-04*
*최종 업데이트: 2026-02-04 Phase 1 실행 완료*
