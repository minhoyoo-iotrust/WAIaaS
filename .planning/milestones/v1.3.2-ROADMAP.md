# Roadmap: WAIaaS

## Milestones

- ✅ **v0.1 Research & Design** — Phases 1-5 (shipped 2026-02-05)
- ✅ **v0.2 Self-Hosted Secure Wallet Design** — Phases 6-9 (shipped 2026-02-05)
- ✅ **v0.3 설계 논리 일관성 확보** — Phases 10-13 (shipped 2026-02-06)
- ✅ **v0.4 테스트 전략 및 계획 수립** — Phases 14-18 (shipped 2026-02-07)
- ✅ **v0.5 인증 모델 재설계 + DX 개선** — Phases 19-21 (shipped 2026-02-07)
- ✅ **v0.6 블록체인 기능 확장 설계** — Phases 22-25 (shipped 2026-02-08)
- ✅ **v0.7 구현 장애 요소 해소** — Phases 26-30 (shipped 2026-02-08)
- ✅ **v0.8 Owner 선택적 등록 + 점진적 보안** — Phases 31-35 (shipped 2026-02-09)
- ✅ **v0.9 MCP 세션 관리 자동화 설계** — Phases 36-40 (shipped 2026-02-09)
- ✅ **v0.10 구현 전 설계 완결성 확보** — Phases 41-44 (shipped 2026-02-09)
- ✅ **v1.0 구현 계획 수립** — Phases 45-47 (shipped 2026-02-09)
- ✅ **v1.1 코어 인프라 + 기본 전송** — Phases 48-51 (shipped 2026-02-10, 281 tests, 10,925 LOC)
- ✅ **v1.2 인증 + 정책 엔진** — Phases 52-57 (shipped 2026-02-10, 457 tests, 25,526 LOC)
- ✅ **v1.3 SDK + MCP + 알림** — Phases 58-63 (shipped 2026-02-11, 784 tests, 33,929 LOC)
- ✅ **v1.3.1 Admin Web UI 설계** — Phases 64-65 (shipped 2026-02-11)
- ✅ **v1.3.2 Admin Web UI 구현** — Phases 66-70 (shipped 2026-02-11, 816 tests, 31 new tests)

## Phases

<details>
<summary>v0.1 Research & Design (Phases 1-5) -- SHIPPED 2026-02-05</summary>

- [x] Phase 1: AI 에이전트 지갑 요구사항 분석 (3 plans)
- [x] Phase 2: 커스터디 모델 비교 연구 (3 plans)
- [x] Phase 3: Solana 기술 스택 조사 (3 plans)
- [x] Phase 4: 주인-에이전트 관계 모델 설계 (3 plans)
- [x] Phase 5: 오픈소스/기존 솔루션 조사 + 에이전트 프레임워크 통합 (3 plans)

</details>

<details>
<summary>v0.2 Self-Hosted Secure Wallet Design (Phases 6-9) -- SHIPPED 2026-02-05</summary>

- [x] Phase 6: 코어 지갑 서비스 설계 (4 plans)
- [x] Phase 7: 세션 + 체인 추상화 설계 (4 plans)
- [x] Phase 8: 보안 계층 설계 (4 plans)
- [x] Phase 9: 통합 + 배포 설계 (4 plans)

</details>

<details>
<summary>v0.3 설계 논리 일관성 확보 (Phases 10-13) -- SHIPPED 2026-02-06</summary>

- [x] Phase 10: v0.1 잔재 정리 + 변경 매핑 (2 plans)
- [x] Phase 11: CRITICAL 의사결정 확정 (2 plans)
- [x] Phase 12: Enum/상태값 통합 대응표 (2 plans)
- [x] Phase 13: REST API<>Framework 스펙 통일 (2 plans)

</details>

<details>
<summary>v0.4 테스트 전략 및 계획 수립 (Phases 14-18) -- SHIPPED 2026-02-07</summary>

- [x] Phase 14: 테스트 레벨/매트릭스/커버리지 정의 (2 plans)
- [x] Phase 15: 보안 공격 시나리오 71건 (2 plans)
- [x] Phase 16: 블록체인 3단계 테스트 환경 (2 plans)
- [x] Phase 17: CI/CD 4단계 파이프라인 (1 plan)
- [x] Phase 18: 배포 타겟별 테스트 시나리오 (2 plans)

</details>

<details>
<summary>v0.5 인증 모델 재설계 + DX 개선 (Phases 19-21) -- SHIPPED 2026-02-07</summary>

- [x] Phase 19: 3-Tier 인증 모델 재설계 (3 plans)
- [x] Phase 20: 세션 낙관적 갱신 + CLI DX (3 plans)
- [x] Phase 21: 기존 설계 문서 11개 v0.5 통합 (3 plans)

</details>

<details>
<summary>v0.6 블록체인 기능 확장 설계 (Phases 22-25) -- SHIPPED 2026-02-08</summary>

- [x] Phase 22: 토큰 확장 + 정책 (3 plans)
- [x] Phase 23: 트랜잭션 타입 확장 (3 plans)
- [x] Phase 24: 상위 추상화 레이어 (3 plans)
- [x] Phase 25: 테스트 전략 통합 + 문서 통합 (2 plans)

</details>

<details>
<summary>v0.7 구현 장애 요소 해소 (Phases 26-30) -- SHIPPED 2026-02-08</summary>

- [x] Phase 26: 체인 어댑터 안정화 (2 plans)
- [x] Phase 27: 데몬 보안 기반 확립 (3 plans)
- [x] Phase 28: 의존성 빌드 환경 해소 (2 plans)
- [x] Phase 29: API 통합 프로토콜 완성 (2 plans)
- [x] Phase 30: 스키마 설정 확정 (2 plans)

</details>

<details>
<summary>v0.8 Owner 선택적 등록 + 점진적 보안 (Phases 31-35) -- SHIPPED 2026-02-09</summary>

- [x] Phase 31: Owner 선택적 데이터 모델 (2 plans)
- [x] Phase 32: Owner 생명주기 상태 머신 (3 plans)
- [x] Phase 33: 정책 다운그레이드 메커니즘 (2 plans)
- [x] Phase 34: 자금 회수 프로토콜 (2 plans)
- [x] Phase 35: DX + 설계 문서 통합 (2 plans)

</details>

<details>
<summary>v0.9 MCP 세션 관리 자동화 설계 (Phases 36-40) -- SHIPPED 2026-02-09</summary>

- [x] Phase 36: 토큰 파일 인프라 (2 plans)
- [x] Phase 37: SessionManager 핵심 설계 (2 plans)
- [x] Phase 38: MCP 통합 설계 (2 plans)
- [x] Phase 39: CLI + Telegram 연동 (2 plans)
- [x] Phase 40: 테스트 설계 + 문서 통합 (2 plans)

</details>

<details>
<summary>v0.10 구현 전 설계 완결성 확보 (Phases 41-44) -- SHIPPED 2026-02-09</summary>

- [x] Phase 41: 정책 엔진 완결 (2 plans)
- [x] Phase 42: 에러 처리 체계 완결 (2 plans)
- [x] Phase 43: 동시성 + 실행 로직 완결 (3 plans)
- [x] Phase 44: 운영 로직 완결 (3 plans)

</details>

<details>
<summary>v1.0 구현 계획 수립 (Phases 45-47) -- SHIPPED 2026-02-09</summary>

- [x] Phase 45: 코어 구현 objective 문서 생성 (2 plans)
- [x] Phase 46: 확장 + 릴리스 objective 문서 생성 (2 plans)
- [x] Phase 47: 설계 부채 + 로드맵 최종 검증 (1 plan)

</details>

<details>
<summary>✅ v1.1 코어 인프라 + 기본 전송 (Phases 48-51) — SHIPPED 2026-02-10</summary>

- [x] Phase 48: 모노레포 스캐폴드 + @waiaas/core (3/3 plans) — completed 2026-02-10
- [x] Phase 49: 데몬 인프라 (3/3 plans) — completed 2026-02-10
- [x] Phase 50: API 서버 + SolanaAdapter + 파이프라인 (4/4 plans) — completed 2026-02-10
- [x] Phase 51: CLI + E2E 통합 검증 (2/2 plans) — completed 2026-02-10

</details>

<details>
<summary>✅ v1.2 인증 + 정책 엔진 (Phases 52-57) — SHIPPED 2026-02-10</summary>

- [x] Phase 52: 인증 기반 (2/2 plans) — completed 2026-02-10
- [x] Phase 53: 세션 관리 (2/2 plans) — completed 2026-02-10
- [x] Phase 54: 정책 엔진 (2/2 plans) — completed 2026-02-10
- [x] Phase 55: 워크플로우 + Owner 상태 (3/3 plans) — completed 2026-02-10
- [x] Phase 56: 파이프라인 통합 (2/2 plans) — completed 2026-02-10
- [x] Phase 57: 통합 테스트 (2/2 plans) — completed 2026-02-10

</details>

<details>
<summary>✅ v1.3 SDK + MCP + 알림 (Phases 58-63) — SHIPPED 2026-02-11</summary>

- [x] Phase 58: OpenAPIHono 전환 + getAssets() (2/2 plans) — completed 2026-02-10
- [x] Phase 59: REST API 확장 (2/2 plans) — completed 2026-02-11
- [x] Phase 60: 알림 시스템 (2/2 plans) — completed 2026-02-11
- [x] Phase 61: TypeScript SDK (2/2 plans) — completed 2026-02-11
- [x] Phase 62: Python SDK (1/1 plan) — completed 2026-02-11
- [x] Phase 63: MCP Server (2/2 plans) — completed 2026-02-11

</details>

<details>
<summary>✅ v1.3.1 Admin Web UI 설계 (Phases 64-65) — SHIPPED 2026-02-11</summary>

- [x] Phase 64: 인프라 + 인증 + 보안 기반 설계 (1/1 plan) — completed 2026-02-11
- [x] Phase 65: 페이지 + 컴포넌트 + API 연동 설계 (1/1 plan) — completed 2026-02-11

</details>

### ✅ v1.3.2 Admin Web UI 구현 — SHIPPED 2026-02-11

**Milestone Goal:** v1.3.1에서 설계한 Admin Web UI를 구현하여, 브라우저에서 `http://127.0.0.1:{port}/admin`으로 에이전트 등록, 세션 관리, 정책 설정 등 핵심 관리 기능을 수행할 수 있는 상태.

- [x] **Phase 66: 인프라 + 빌드 파이프라인** — Preact 패키지 스캐폴드, Vite 빌드, daemon 정적 서빙, CSP, config 확장 — completed 2026-02-11
- [x] **Phase 67: 인증 + API Client + 공통 컴포넌트** — masterAuth 로그인, Auth Store, fetch 래퍼, 재사용 컴포넌트 — completed 2026-02-11
- [x] **Phase 68: Dashboard + Agents + Sessions 페이지** — 상태 요약, 에이전트 CRUD, 세션 생성/조회/폐기 — completed 2026-02-11
- [x] **Phase 69: Policies + Settings 페이지** — 10 유형 정책 CRUD, 4-tier 시각화, Kill Switch, JWT 회전, 종료 — completed 2026-02-11
- [x] **Phase 70: 통합 테스트** — 인증 4건, 페이지 17건, 보안+서빙 4건, 유틸 6건 테스트 — completed 2026-02-11

## Phase Details

### Phase 66: 인프라 + 빌드 파이프라인
**Goal**: `pnpm build` 실행 시 admin SPA가 빌드되어 daemon이 `/admin`에서 정적 파일을 서빙하고, CSP 헤더가 적용되며, Kill Switch 활성 시에도 SPA가 로딩되는 상태
**Depends on**: Phase 65 (v1.3.1 Admin Web UI 설계 완료)
**Requirements**: INFRA-01, INFRA-02, INFRA-03, INFRA-04, INFRA-05, INFRA-06, INFRA-07
**Success Criteria** (what must be TRUE):
  1. `pnpm --filter @waiaas/admin build`가 성공하고, 빌드 산출물이 `packages/daemon/public/admin/`에 복사된다
  2. 데몬 시작 후 `GET /admin`으로 접근하면 SPA index.html이 반환되고, `admin_ui = false` 설정 시 404가 반환된다
  3. `/admin` 응답에 `Content-Security-Policy` 헤더가 포함되고 `script-src 'self'`를 포함한다
  4. Kill Switch ACTIVATED 상태에서도 `GET /admin`은 200으로 SPA가 로딩된다
  5. `GET /v1/admin/status` 응답에 `adminTimeout` 필드가 포함되고, 데몬 버전이 실제 package.json 버전을 반영한다
**Plans**: 2 plans

Plans:
- [x] 66-01-PLAN.md — Preact 패키지 스캐폴드 + Vite 빌드 파이프라인 (INFRA-01, INFRA-06)
- [x] 66-02-PLAN.md — daemon 정적 서빙 + CSP + Kill Switch bypass + config 확장 + 버전 수정 (INFRA-02, INFRA-03, INFRA-04, INFRA-05, INFRA-07)

### Phase 67: 인증 + API Client + 공통 컴포넌트
**Goal**: 사용자가 마스터 비밀번호로 로그인하여 인증된 상태로 SPA를 사용하고, 비활성 시 자동 로그아웃되며, 모든 페이지에서 공통 레이아웃/테이블/폼/모달/토스트 컴포넌트를 사용할 수 있는 상태
**Depends on**: Phase 66
**Requirements**: AUTH-01, AUTH-02, AUTH-03, COMP-01, COMP-02, COMP-03
**Success Criteria** (what must be TRUE):
  1. 마스터 비밀번호 입력 후 `GET /v1/admin/status`로 검증 성공 시 Dashboard로 이동하고, 틀린 비밀번호는 에러 메시지를 표시한다
  2. 15분(설정 가능) 비활성 시 자동 로그아웃되어 로그인 화면으로 돌아가고, 마우스/키보드 이벤트로 타이머가 리셋된다
  3. API 호출 시 `X-Master-Password` 헤더가 자동 주입되고, 인증 후 401 응답 시 자동 로그아웃된다
  4. 사이드바 네비게이션으로 5개 페이지를 해시 라우팅으로 전환할 수 있고, 각 페이지에 헤더 + 콘텐츠 레이아웃이 적용된다
  5. 68개 에러 코드가 사용자 친화적 영문 메시지로 매핑되고, 날짜/주소 포맷팅 유틸이 동작한다
**Plans**: 2 plans

Plans:
- [x] 67-01-PLAN.md — masterAuth 로그인 + Auth Store + API Client (AUTH-01, AUTH-02, AUTH-03)
- [x] 67-02-PLAN.md — Layout + 재사용 컴포넌트 + 에러 매핑 유틸 (COMP-01, COMP-02, COMP-03)

### Phase 68: Dashboard + Agents + Sessions 페이지
**Goal**: 사용자가 Dashboard에서 데몬 상태를 확인하고, Agents 페이지에서 에이전트 CRUD를 수행하며, Sessions 페이지에서 에이전트별 세션을 생성/조회/폐기하고 JWT 토큰을 복사할 수 있는 상태
**Depends on**: Phase 67
**Requirements**: PAGE-01, PAGE-02, PAGE-03
**Success Criteria** (what must be TRUE):
  1. Dashboard에 데몬 상태/버전/uptime/에이전트 수/활성 세션 수/Kill Switch 상태가 카드로 표시되고, 30초마다 자동 갱신된다
  2. Agents 페이지에서 에이전트 목록 조회, 생성(name/chain/network), 이름 수정, 상세(주소/Owner 상태), 삭제(확인 모달)가 동작한다
  3. Sessions 페이지에서 에이전트 드롭다운 선택 후 세션 생성, 에이전트별 세션 목록 조회, 만료시간 표시, 폐기, JWT 토큰 복사가 동작한다
**Plans**: 2 plans

Plans:
- [x] 68-01-PLAN.md — Dashboard 페이지: stat card grid + 30s polling + loading/error states (PAGE-01)
- [x] 68-02-PLAN.md — Agents 페이지 (list/detail/CRUD) + Sessions 페이지 (agent dropdown, create/revoke, JWT token display) (PAGE-02, PAGE-03)

### Phase 69: Policies + Settings 페이지
**Goal**: 사용자가 Policies 페이지에서 10가지 정책 유형의 CRUD를 수행하고 4-tier 색상 구분을 확인하며, Settings 페이지에서 Kill Switch/JWT 회전/데몬 종료 등 관리 작업을 수행할 수 있는 상태
**Depends on**: Phase 68
**Requirements**: PAGE-04, PAGE-05
**Success Criteria** (what must be TRUE):
  1. Policies 페이지에서 에이전트별/글로벌 정책 목록 조회, 10 유형 드롭다운 선택, rules JSON 편집(textarea), priority/enabled 설정이 동작한다
  2. SPENDING_LIMIT 정책의 4-tier 한도가 INSTANT=초록, NOTIFY=파랑, DELAY=노랑, APPROVAL=빨강으로 시각적 구분된다
  3. Settings 페이지에서 Kill Switch 활성화/복구 토글, JWT 시크릿 회전(확인 모달), 데몬 종료(이중 확인 모달)가 동작한다
  4. 이미 활성 상태에서 재활성화 시 `KILL_SWITCH_ACTIVE` 에러 토스트가 표시되고, 비활성 상태에서 복구 시 `KILL_SWITCH_NOT_ACTIVE` 에러 토스트가 표시된다
**Plans**: 2 plans

Plans:
- [x] 69-01-PLAN.md — Policies 페이지: 10 유형 CRUD + 에이전트 필터 + 4-tier SPENDING_LIMIT 시각화 (PAGE-04)
- [x] 69-02-PLAN.md — Settings 페이지: Kill Switch 토글 + JWT 회전 + 데몬 종료 (PAGE-05)

### Phase 70: 통합 테스트
**Goal**: 인증/페이지/보안 전 영역을 커버하는 22건의 Vitest + Testing Library 테스트가 통과하여, Admin UI의 핵심 사용자 흐름과 보안 요구사항이 검증된 상태
**Depends on**: Phase 69
**Requirements**: TEST-01, TEST-02, TEST-03
**Success Criteria** (what must be TRUE):
  1. 인증 테스트 4건(로그인 성공/실패, 비활성 타임아웃, 로그아웃)이 통과한다
  2. 페이지 테스트 14건(Dashboard 3건, Agents 5건, Sessions 3건, Policies 3건, Settings 3건 -- objective v1.3.2 E2E 시나리오 기반)이 통과한다
  3. 보안+서빙 테스트 4건(SPA 로드, admin_ui=false 404, CSP 헤더, Kill Switch bypass)이 통과한다
  4. 전체 테스트 스위트(`pnpm test`)가 기존 784건 + 신규 22건 = 806건 이상 통과한다
**Plans**: 2 plans

Plans:
- [x] 70-01-PLAN.md — Vitest 인프라 + 인증 4건 + 유틸리티 테스트 + daemon 보안/서빙 4건 (TEST-01, TEST-03)
- [x] 70-02-PLAN.md — Dashboard(3) + Agents(5) + Sessions(3) + Policies(3) + Settings(3) 페이지 테스트 (TEST-02)

## Progress

**Execution Order:**
Phases execute in numeric order: 66 → 67 → 68 → 69 → 70

| Milestone | Phases | Plans | Status | Shipped |
|-----------|--------|-------|--------|---------|
| v0.1 Research & Design | 1-5 | 15 | Complete | 2026-02-05 |
| v0.2 Self-Hosted Design | 6-9 | 16 | Complete | 2026-02-05 |
| v0.3 설계 일관성 | 10-13 | 8 | Complete | 2026-02-06 |
| v0.4 테스트 전략 | 14-18 | 9 | Complete | 2026-02-07 |
| v0.5 인증 재설계 | 19-21 | 9 | Complete | 2026-02-07 |
| v0.6 블록체인 확장 | 22-25 | 11 | Complete | 2026-02-08 |
| v0.7 장애 요소 해소 | 26-30 | 11 | Complete | 2026-02-08 |
| v0.8 Owner 선택적 등록 | 31-35 | 11 | Complete | 2026-02-09 |
| v0.9 MCP 세션 자동화 | 36-40 | 10 | Complete | 2026-02-09 |
| v0.10 설계 완결성 | 41-44 | 10 | Complete | 2026-02-09 |
| v1.0 구현 계획 수립 | 45-47 | 5 | Complete | 2026-02-09 |
| v1.1 코어 인프라 | 48-51 | 12 | Complete | 2026-02-10 |
| v1.2 인증 + 정책 엔진 | 52-57 | 13 | Complete | 2026-02-10 |
| v1.3 SDK + MCP + 알림 | 58-63 | 11 | Complete | 2026-02-11 |
| v1.3.1 Admin Web UI 설계 | 64-65 | 2 | Complete | 2026-02-11 |
| v1.3.2 Admin Web UI 구현 | 66-70 | 10/10 | Complete | 2026-02-11 |

**Total:** 16 milestones shipped, 70 phases completed, 165 plans completed

---

*Last updated: 2026-02-11 after Phase 70 executed (2/2 plans complete, verified) — v1.3.2 milestone complete*
