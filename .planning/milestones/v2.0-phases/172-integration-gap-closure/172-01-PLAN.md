---
phase: 172-integration-gap-closure
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - .github/workflows/release.yml
  - README.md
  - README.ko.md
  - docs/deployment.md
autonomous: true
requirements:
  - VERIFY-03
  - PKG-01
  - DOC-02
  - DOC-05

must_haves:
  truths:
    - "release.yml test job이 OpenAPI 유효성 검증 단계를 포함하여 릴리스 시에도 스펙 검증이 수행된다"
    - "README.md에 @waiaas/skills CLI 사용법(list, add)이 문서화되어 있다"
    - "README.ko.md에 동일한 @waiaas/skills CLI 사용법이 한글로 문서화되어 있다"
    - "docs/deployment.md에 MCP 스킬 파일 설치 방법이 포함되어 있다"
  artifacts:
    - path: ".github/workflows/release.yml"
      provides: "OpenAPI 검증 step in test job"
      contains: "validate:openapi"
    - path: "README.md"
      provides: "Skills CLI usage section"
      contains: "npx @waiaas/skills"
    - path: "README.ko.md"
      provides: "Skills CLI usage section (Korean)"
      contains: "npx @waiaas/skills"
    - path: "docs/deployment.md"
      provides: "Skills CLI in post-installation"
      contains: "npx @waiaas/skills"
  key_links:
    - from: ".github/workflows/release.yml"
      to: "package.json"
      via: "pnpm run validate:openapi"
      pattern: "validate:openapi"
    - from: "README.md"
      to: "packages/skills"
      via: "npx @waiaas/skills CLI documentation"
      pattern: "npx @waiaas/skills"
---

<objective>
release.yml test job에 OpenAPI 검증 단계를 추가하고, README.md/README.ko.md/docs/deployment.md에 @waiaas/skills CLI 사용법을 문서화한다.

Purpose: Phase 166에서 구현한 validate:openapi가 ci.yml에만 있고 release.yml에는 누락된 통합 갭을 해소한다. Phase 169에서 구현한 @waiaas/skills 패키지의 사용법이 사용자 문서에 명시되지 않은 문서 갭을 해소한다.
Output: release.yml에 OpenAPI 검증 step 추가, 3개 문서에 Skills CLI 섹션 추가.
</objective>

<execution_context>
@/Users/minho.yoo/.claude/get-shit-done/workflows/execute-plan.md
@/Users/minho.yoo/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.github/workflows/release.yml
@.github/workflows/ci.yml
@README.md
@README.ko.md
@docs/deployment.md
@packages/skills/package.json
</context>

<tasks>

<task type="auto">
  <name>Task 1: release.yml test job에 validate:openapi step 추가</name>
  <files>.github/workflows/release.yml</files>
  <action>
release.yml의 `test` job에 OpenAPI 검증 단계를 추가한다. ci.yml stage2의 "Validate OpenAPI Spec" step과 동일한 패턴을 사용한다.

구체적으로:
1. `.github/workflows/release.yml` 파일의 `test` job에서 "Verify Enum SSoT" step(line 37-38) 다음에 새 step을 추가한다:

```yaml
      - name: Validate OpenAPI Spec
        run: pnpm run validate:openapi
```

이 step은 ci.yml stage2 line 79-80의 동일한 step과 일치한다. Build step 이후에 위치해야 한다 (validate-openapi.ts가 createApp()을 호출하므로 빌드된 패키지가 필요).

위치: "Verify Enum SSoT" step 바로 다음, "Coverage Gate (Hard)" step 바로 앞.
  </action>
  <verify>
1. `grep -n "validate:openapi" .github/workflows/release.yml` 결과가 존재
2. YAML 구문 검증: `python3 -c "import yaml; yaml.safe_load(open('.github/workflows/release.yml'))"` 성공
3. "Validate OpenAPI Spec" step이 "Verify Enum SSoT" 다음, "Coverage Gate" 앞에 위치
  </verify>
  <done>release.yml test job에 "Validate OpenAPI Spec" step이 추가되어, 릴리스 파이프라인에서도 OpenAPI 유효성이 검증된다.</done>
</task>

<task type="auto">
  <name>Task 2: README.md, README.ko.md, docs/deployment.md에 Skills CLI 사용법 추가</name>
  <files>README.md, README.ko.md, docs/deployment.md</files>
  <action>
3개 문서에 @waiaas/skills CLI 사용법을 추가한다. 패키지 bin은 `waiaas-skills`이며, `npx @waiaas/skills`로 실행 가능하다. 주요 커맨드: `list` (사용 가능한 스킬 목록), `add <name>` (스킬 파일 복사), `add --all` (전체 복사).

**README.md** (영문):
Documentation 테이블(## Documentation 섹션) 위에 새 섹션 "## Skill Files for AI Agents" 추가:

```markdown
## Skill Files for AI Agents

WAIaaS provides pre-built skill files that teach AI agents how to use the API. Install them with npx:

\```bash
# List available skills
npx @waiaas/skills list

# Add a specific skill
npx @waiaas/skills add wallet

# Add all skills
npx @waiaas/skills add --all
\```

Available skills: `quickstart`, `wallet`, `transactions`, `policies`, `admin`, `mcp`, `notifications`.
```

**README.ko.md** (한글):
동일 위치(## 문서 섹션 위)에 "## AI 에이전트용 스킬 파일" 섹션 추가:

```markdown
## AI 에이전트용 스킬 파일

WAIaaS는 AI 에이전트가 API를 사용하는 방법을 학습하는 사전 제작된 스킬 파일을 제공한다. npx로 설치할 수 있다:

\```bash
# 사용 가능한 스킬 목록
npx @waiaas/skills list

# 특정 스킬 추가
npx @waiaas/skills add wallet

# 모든 스킬 추가
npx @waiaas/skills add --all
\```

사용 가능한 스킬: `quickstart`, `wallet`, `transactions`, `policies`, `admin`, `mcp`, `notifications`.
```

**docs/deployment.md**:
"## Post-Installation" 섹션의 "### 4. Set Up MCP" 이후에 새 하위 섹션 "### 5. Install Skill Files (Optional)" 추가:

```markdown
### 5. Install Skill Files (Optional)

Skill files teach AI agents how to interact with the WAIaaS API. They are plain Markdown files that can be included in the AI agent's context.

\```bash
# List available skills
npx @waiaas/skills list

# Add a specific skill to your project
npx @waiaas/skills add wallet

# Add all skills
npx @waiaas/skills add --all
\```

This copies `.skill.md` files to your current directory. Include them in your AI agent's prompt or context window for API-aware conversations.
```

주의: 각 문서의 기존 구조와 톤을 유지한다. README.md는 영어, README.ko.md는 한글.
  </action>
  <verify>
1. `grep "npx @waiaas/skills" README.md` 결과 존재
2. `grep "npx @waiaas/skills" README.ko.md` 결과 존재
3. `grep "npx @waiaas/skills" docs/deployment.md` 결과 존재
4. 각 파일에 list, add, add --all 3가지 커맨드가 모두 포함
  </verify>
  <done>README.md, README.ko.md, docs/deployment.md 3개 문서에 @waiaas/skills CLI 사용법(list, add, add --all)이 문서화되어 있다.</done>
</task>

</tasks>

<verification>
1. `grep -c "validate:openapi" .github/workflows/release.yml` -- 1 이상
2. `grep -c "npx @waiaas/skills" README.md` -- 3 이상 (list, add, add --all)
3. `grep -c "npx @waiaas/skills" README.ko.md` -- 3 이상
4. `grep -c "npx @waiaas/skills" docs/deployment.md` -- 3 이상
5. YAML 파싱 성공: `python3 -c "import yaml; yaml.safe_load(open('.github/workflows/release.yml'))"`
</verification>

<success_criteria>
- release.yml test job에 `validate:openapi` step이 존재하고 YAML 구문이 유효하다
- README.md에 "Skill Files for AI Agents" 섹션이 있고 npx @waiaas/skills 커맨드가 문서화되어 있다
- README.ko.md에 동일한 내용의 한글 섹션이 있다
- docs/deployment.md Post-Installation에 스킬 파일 설치 가이드가 있다
</success_criteria>

<output>
After completion, create `.planning/phases/172-integration-gap-closure/172-01-SUMMARY.md`
</output>
