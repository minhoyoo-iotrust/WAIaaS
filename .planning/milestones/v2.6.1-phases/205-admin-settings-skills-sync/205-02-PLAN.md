---
phase: 205-admin-settings-skills-sync
plan: 02
type: execute
wave: 2
depends_on: [205-01]
files_modified:
  - packages/admin/src/pages/settings.tsx
  - packages/admin/src/utils/settings-helpers.ts
autonomous: true
requirements: [WALLET-07]

must_haves:
  truths:
    - "Admin Settings page shows a Signing SDK section with all 6 operational keys"
    - "Admin Settings Signing SDK section shows enabled toggle, channel select, topic prefixes"
    - "Wallets page infrastructure warning correctly reflects signing_sdk.enabled from API"
  artifacts:
    - path: "packages/admin/src/pages/settings.tsx"
      provides: "SigningSDKSettings section component"
      contains: "signing_sdk"
    - path: "packages/admin/src/utils/settings-helpers.ts"
      provides: "Label mappings for signing_sdk keys"
      contains: "request_expiry_min"
  key_links:
    - from: "packages/admin/src/pages/settings.tsx"
      to: "GET /admin/settings"
      via: "apiGet(API.ADMIN_SETTINGS) returns signing_sdk category"
      pattern: "signing_sdk"
    - from: "packages/admin/src/pages/wallets.tsx"
      to: "GET /admin/settings"
      via: "fetchApprovalSettings reads signing_sdk.enabled"
      pattern: "signing_sdk.*enabled"
---

<objective>
Add a Signing SDK settings section to the Admin Settings page and ensure infrastructure warnings on the wallets page correctly reflect the signing_sdk.enabled value.

Purpose: With the API now exposing signing_sdk category (Plan 205-01), the Admin UI needs a settings section for operators to configure signing SDK parameters (enabled, preferred channel, topic prefixes, etc.) visually. The wallets page already reads signing_sdk.enabled for infrastructure warnings (203-04-PLAN) but this depends on the API actually returning the category, which 205-01 fixes.

Output: New SigningSDKSettings component in settings.tsx, updated keyToLabel mappings.
</objective>

<execution_context>
@/Users/minho.yoo/.claude/get-shit-done/workflows/execute-plan.md
@/Users/minho.yoo/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/205-admin-settings-skills-sync/205-01-SUMMARY.md
@packages/admin/src/pages/settings.tsx
@packages/admin/src/utils/settings-helpers.ts
@packages/admin/src/pages/wallets.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add signing_sdk key labels and render Signing SDK settings section</name>
  <files>
    packages/admin/src/utils/settings-helpers.ts
    packages/admin/src/pages/settings.tsx
  </files>
  <action>
**settings-helpers.ts:**
Add signing_sdk key labels to the `keyToLabel()` map:
```typescript
// signing_sdk keys
request_expiry_min: 'Request Expiry (minutes)',
preferred_channel: 'Preferred Channel',
preferred_wallet: 'Preferred Wallet',
ntfy_request_topic_prefix: 'Ntfy Request Topic Prefix',
ntfy_response_topic_prefix: 'Ntfy Response Topic Prefix',
wallets: 'Registered Wallets (JSON)',
```

**settings.tsx:**
Create a `SigningSDKSettings()` function component, following the same pattern as TelegramBotSettings() or AutoStopSettings(). It should render:

1. **Section header**: "Signing SDK" with description "Configure the Wallet Signing SDK for owner approval via mobile wallet app"
2. **Fields**:
   - `signing_sdk.enabled` -- select (Yes/No) like telegram.enabled
   - `signing_sdk.request_expiry_min` -- number input, min=1, max=1440
   - `signing_sdk.preferred_channel` -- select with options: ntfy, telegram
   - `signing_sdk.preferred_wallet` -- text input (optional, wallet app name)
   - `signing_sdk.ntfy_request_topic_prefix` -- text input
   - `signing_sdk.ntfy_response_topic_prefix` -- text input
3. **Info box**: "Enable the Signing SDK to allow wallet owners to approve/reject transactions from their mobile wallet app. Requires a signing channel (ntfy or Telegram) to deliver sign requests."
4. **Do NOT show** the `signing_sdk.wallets` key in the UI -- it's JSON managed by WalletLinkRegistry, not user-editable.

Insert `<SigningSDKSettings />` in the main render after `<TelegramBotSettings />` and before `<DaemonSettings />` (around line 1005-1006).

Use the existing patterns:
- `getEffectiveValue('signing_sdk', 'enabled')` for reads
- `handleFieldChange('signing_sdk.enabled', v)` for writes
- Same div/class structure as other settings sections
  </action>
  <verify>
Run `pnpm turbo run typecheck --filter=@waiaas/admin` -- should pass.
Run `pnpm turbo run build --filter=@waiaas/admin` -- should build without errors.
  </verify>
  <done>
Admin Settings page shows Signing SDK section with 6 editable fields, properly labeled. The wallets JSON key is excluded. Settings values are read from and written to the same dirty/save mechanism as other settings categories. No new warnings or errors.
  </done>
</task>

</tasks>

<verification>
1. `pnpm turbo run typecheck --filter=@waiaas/admin` passes
2. `pnpm turbo run build --filter=@waiaas/admin` builds successfully
3. Signing SDK section visible in settings page source with all 6 fields
4. keyToLabel mappings cover all signing_sdk keys
</verification>

<success_criteria>
- Admin Settings page has a "Signing SDK" section with 6 configurable fields
- Fields use correct input types (select for enabled/preferred_channel, number for expiry, text for prefixes)
- Settings helpers keyToLabel includes all signing_sdk key mappings
- The wallets.tsx fetchApprovalSettings already reads signing_sdk from the API response -- no change needed since 205-01 fixes the API
</success_criteria>

<output>
After completion, create `.planning/phases/205-admin-settings-skills-sync/205-02-SUMMARY.md`
</output>
