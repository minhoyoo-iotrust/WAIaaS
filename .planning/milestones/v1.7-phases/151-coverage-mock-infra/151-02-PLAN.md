---
phase: 151-coverage-mock-infra
plan: 02
type: execute
wave: 1
depends_on: []
files_modified:
  - packages/daemon/src/__tests__/mocks/jupiter-msw-handlers.ts
  - packages/daemon/src/__tests__/mocks/price-api-msw-handlers.ts
  - packages/daemon/src/__tests__/mocks/mock-onchain-oracle.ts
  - packages/daemon/src/__tests__/mocks/mock-price-oracle.ts
  - packages/daemon/src/__tests__/mocks/mock-action-provider.ts
  - packages/daemon/src/__tests__/mocks/index.ts
  - packages/daemon/src/__tests__/mocks/mock-price-oracle.test.ts
  - packages/daemon/src/__tests__/mocks/mock-action-provider.test.ts
  - packages/daemon/package.json
autonomous: true

must_haves:
  truths:
    - "Jupiter API msw 핸들러(M6)가 /v6/quote + /v6/swap-instructions를 인터셉트하고 canned response를 반환한다"
    - "가격 API msw 핸들러(M7)가 Pyth Hermes + CoinGecko Demo API HTTP 요청을 인터셉트한다"
    - "MockOnchainOracle(M8)이 Pyth 가격 피드 구조체를 인메모리로 반환한다"
    - "MockPriceOracle(M9)이 IPriceOracle 인터페이스를 완전 구현하며 vi.fn() 기반으로 호출 검증 가능하다"
    - "MockActionProvider(M10)이 IActionProvider 인터페이스를 완전 구현하며 configurable resolve 반환값을 지원한다"
  artifacts:
    - path: "packages/daemon/src/__tests__/mocks/jupiter-msw-handlers.ts"
      provides: "M6 Jupiter API msw handlers"
      exports: ["jupiterHandlers"]
    - path: "packages/daemon/src/__tests__/mocks/price-api-msw-handlers.ts"
      provides: "M7 Price API msw handlers"
      exports: ["pythHandlers", "coingeckoHandlers", "priceApiHandlers"]
    - path: "packages/daemon/src/__tests__/mocks/mock-onchain-oracle.ts"
      provides: "M8 Onchain oracle mock"
      exports: ["MockOnchainOracle", "createMockPythFeed"]
    - path: "packages/daemon/src/__tests__/mocks/mock-price-oracle.ts"
      provides: "M9 IPriceOracle mock"
      exports: ["MockPriceOracle", "createMockPriceOracle"]
    - path: "packages/daemon/src/__tests__/mocks/mock-action-provider.ts"
      provides: "M10 IActionProvider mock"
      exports: ["MockActionProvider", "createMockActionProvider"]
    - path: "packages/daemon/src/__tests__/mocks/index.ts"
      provides: "Barrel export for all mocks"
      contains: "export"
  key_links:
    - from: "packages/daemon/src/__tests__/mocks/mock-price-oracle.ts"
      to: "@waiaas/core IPriceOracle"
      via: "implements IPriceOracle interface"
      pattern: "IPriceOracle"
    - from: "packages/daemon/src/__tests__/mocks/mock-action-provider.ts"
      to: "@waiaas/core IActionProvider"
      via: "implements IActionProvider interface"
      pattern: "IActionProvider"
    - from: "packages/daemon/src/__tests__/mocks/jupiter-msw-handlers.ts"
      to: "msw setupServer"
      via: "http.get/http.post handlers for Jupiter v6 API"
      pattern: "http\\.(get|post)"
---

<objective>
Mock 5개 신규 경계 인프라 구축 (M6~M10)

Purpose: 후속 Phase(153~157)의 Contract Test, 보안 테스트, 확장 기능 테스트에서 외부 의존(Jupiter API, Pyth/CoinGecko HTTP, 온체인 오라클)을 완전히 격리하여 결정적이고 빠른 테스트를 가능하게 한다.
Output: 5개 mock 모듈 + barrel export + 검증 테스트
</objective>

<execution_context>
@/Users/minho.yoo/.claude/get-shit-done/workflows/execute-plan.md
@/Users/minho.yoo/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@objectives/v1.7-quality-cicd.md

# Interface definitions to implement mocks for
@packages/core/src/interfaces/price-oracle.types.ts
@packages/core/src/interfaces/action-provider.types.ts

# Existing oracle implementations (mock targets)
@packages/daemon/src/infrastructure/oracle/pyth-oracle.ts
@packages/daemon/src/infrastructure/oracle/coingecko-oracle.ts
@packages/daemon/src/infrastructure/oracle/oracle-chain.ts
@packages/daemon/src/infrastructure/oracle/pyth-feed-ids.ts

# Existing test patterns for reference
@packages/daemon/src/__tests__/pyth-oracle.test.ts
@packages/daemon/src/__tests__/coingecko-oracle.test.ts
@packages/daemon/src/__tests__/action-provider-registry.test.ts
</context>

<tasks>

<task type="auto">
  <name>Task 1: msw 설치 + Jupiter/가격 API msw 핸들러 (M6, M7)</name>
  <files>
    packages/daemon/package.json
    packages/daemon/src/__tests__/mocks/jupiter-msw-handlers.ts
    packages/daemon/src/__tests__/mocks/price-api-msw-handlers.ts
  </files>
  <action>
    1. msw 2.x를 daemon 패키지의 devDependencies에 설치:
       `pnpm --filter @waiaas/daemon add -D msw`

    2. `packages/daemon/src/__tests__/mocks/` 디렉토리를 생성한다.

    3. **M6: Jupiter API msw 핸들러** (`jupiter-msw-handlers.ts`):

    Jupiter v6 API의 두 엔드포인트를 인터셉트하는 msw http handlers를 작성한다.

    ```ts
    import { http, HttpResponse } from 'msw';

    // Canned responses
    const DEFAULT_QUOTE_RESPONSE = { ... }; // Jupiter /v6/quote 응답 구조
    const DEFAULT_SWAP_RESPONSE = { ... }; // Jupiter /v6/swap-instructions 응답 구조

    export function createJupiterHandlers(overrides?: { quote?, swap? }) {
      return [
        http.get('https://quote-api.jup.ag/v6/quote', ({ request }) => {
          const url = new URL(request.url);
          // 쿼리 파라미터에서 inputMint, outputMint, amount, slippageBps 추출
          return HttpResponse.json(overrides?.quote ?? DEFAULT_QUOTE_RESPONSE);
        }),
        http.post('https://quote-api.jup.ag/v6/swap-instructions', async ({ request }) => {
          return HttpResponse.json(overrides?.swap ?? DEFAULT_SWAP_RESPONSE);
        }),
      ];
    }

    // 편의 export: 기본 핸들러
    export const jupiterHandlers = createJupiterHandlers();
    ```

    DEFAULT_QUOTE_RESPONSE에는 inputMint(SOL), outputMint(USDC), inAmount, outAmount, slippageBps, priceImpactPct, routePlan 등 Jupiter v6 응답의 핵심 필드를 포함한다.
    DEFAULT_SWAP_RESPONSE에는 setupTransaction, swapTransaction, cleanupTransaction (base64 인코딩된 versioned transaction) 필드를 포함한다.

    에러 시나리오 핸들러도 작성:
    ```ts
    export function createJupiterErrorHandlers(statusCode = 400) {
      return [
        http.get('https://quote-api.jup.ag/v6/quote', () => {
          return HttpResponse.json({ error: 'Route not found' }, { status: statusCode });
        }),
        http.post('https://quote-api.jup.ag/v6/swap-instructions', () => {
          return HttpResponse.json({ error: 'Invalid quote' }, { status: statusCode });
        }),
      ];
    }
    ```

    4. **M7: 가격 API msw 핸들러** (`price-api-msw-handlers.ts`):

    Pyth Hermes API와 CoinGecko Demo API를 인터셉트하는 핸들러를 작성한다.

    ```ts
    import { http, HttpResponse } from 'msw';

    // --- Pyth Hermes handlers ---
    export function createPythHandlers(overrides?: { feeds?: Record<string, { price: string; conf: string; expo: number }> }) {
      return [
        http.get('https://hermes.pyth.network/v2/updates/price/latest', ({ request }) => {
          const url = new URL(request.url);
          const ids = url.searchParams.getAll('ids[]');
          // ids에 대응하는 canned Pyth 응답 반환
          const parsed = ids.map(id => ({
            id,
            price: overrides?.feeds?.[id]
              ? { price: overrides.feeds[id].price, conf: overrides.feeds[id].conf, expo: overrides.feeds[id].expo, publish_time: Math.floor(Date.now() / 1000) }
              : { price: '18413602312', conf: '17716632', expo: -8, publish_time: Math.floor(Date.now() / 1000) },
            ema_price: { price: '18413602312', conf: '17716632', expo: -8, publish_time: Math.floor(Date.now() / 1000) },
          }));
          return HttpResponse.json({ parsed });
        }),
      ];
    }

    // --- CoinGecko Demo API handlers ---
    export function createCoinGeckoHandlers(overrides?: { prices?: Record<string, { usd: number }> }) {
      return [
        // Token price: /simple/token_price/{platform}
        http.get('https://api.coingecko.com/api/v3/simple/token_price/:platform', ({ request, params }) => {
          const url = new URL(request.url);
          const addresses = url.searchParams.get('contract_addresses')?.split(',') ?? [];
          const result: Record<string, { usd: number; last_updated_at: number }> = {};
          for (const addr of addresses) {
            result[addr] = {
              usd: overrides?.prices?.[addr]?.usd ?? 1.0,
              last_updated_at: Math.floor(Date.now() / 1000),
            };
          }
          return HttpResponse.json(result);
        }),
        // Native price: /simple/price
        http.get('https://api.coingecko.com/api/v3/simple/price', ({ request }) => {
          const url = new URL(request.url);
          const ids = url.searchParams.get('ids')?.split(',') ?? [];
          const result: Record<string, { usd: number; last_updated_at: number }> = {};
          for (const id of ids) {
            result[id] = {
              usd: overrides?.prices?.[id]?.usd ?? (id === 'solana' ? 184.0 : id === 'ethereum' ? 3400.0 : 1.0),
              last_updated_at: Math.floor(Date.now() / 1000),
            };
          }
          return HttpResponse.json(result);
        }),
      ];
    }

    export const pythHandlers = createPythHandlers();
    export const coingeckoHandlers = createCoinGeckoHandlers();
    export const priceApiHandlers = [...pythHandlers, ...coingeckoHandlers];
    ```

    에러 핸들러도 작성:
    ```ts
    export function createPriceApiErrorHandlers() {
      return [
        http.get('https://hermes.pyth.network/v2/updates/price/latest', () =>
          HttpResponse.json({ error: 'Service unavailable' }, { status: 503 })),
        http.get('https://api.coingecko.com/api/v3/simple/*', () =>
          HttpResponse.json({ error: 'Rate limited' }, { status: 429 })),
      ];
    }
    ```
  </action>
  <verify>
    1. `ls packages/daemon/src/__tests__/mocks/jupiter-msw-handlers.ts packages/daemon/src/__tests__/mocks/price-api-msw-handlers.ts` -- 두 파일 존재
    2. `pnpm --filter @waiaas/daemon exec -- npx tsc --noEmit 2>&1 | tail -5` -- 타입 에러 없음
    3. `grep "msw" packages/daemon/package.json` -- msw가 devDependencies에 존재
  </verify>
  <done>
    msw 2.x가 설치되고, Jupiter API(M6)와 Pyth/CoinGecko API(M7) msw 핸들러가 작성되어 setupServer()에 전달 가능한 handler 배열로 export된다. 정상 응답과 에러 시나리오 모두 지원한다.
  </done>
</task>

<task type="auto">
  <name>Task 2: MockOnchainOracle + MockPriceOracle + MockActionProvider (M8, M9, M10) + barrel export + 검증 테스트</name>
  <files>
    packages/daemon/src/__tests__/mocks/mock-onchain-oracle.ts
    packages/daemon/src/__tests__/mocks/mock-price-oracle.ts
    packages/daemon/src/__tests__/mocks/mock-action-provider.ts
    packages/daemon/src/__tests__/mocks/index.ts
    packages/daemon/src/__tests__/mocks/mock-price-oracle.test.ts
    packages/daemon/src/__tests__/mocks/mock-action-provider.test.ts
  </files>
  <action>
    1. **M8: MockOnchainOracle** (`mock-onchain-oracle.ts`):

    Pyth 온체인 가격 피드 데이터 구조를 인메모리로 시뮬레이션하는 mock. Solana 프로그램 계정 데이터를 직접 파싱하는 테스트에 사용 (Level 1 Mock RPC 체인 테스트).

    ```ts
    import type { ChainType, PriceInfo, TokenRef } from '@waiaas/core';

    export interface MockPythFeed {
      id: string;
      price: bigint;        // 스케일링된 가격 (expo 적용 전)
      conf: bigint;
      expo: number;
      publishTime: number;  // Unix timestamp (초)
    }

    export function createMockPythFeed(overrides?: Partial<MockPythFeed>): MockPythFeed {
      return {
        id: 'ef0d8b6fda2ceba41da15d4095d1da392a0d2f8ed0c6c7bc0f4cfac8c280b56d',
        price: 18413602312n,
        conf: 17716632n,
        expo: -8,
        publishTime: Math.floor(Date.now() / 1000),
        ...overrides,
      };
    }

    export class MockOnchainOracle {
      private feeds = new Map<string, MockPythFeed>();

      setFeed(feedId: string, feed: MockPythFeed): void { this.feeds.set(feedId, feed); }
      removeFeed(feedId: string): void { this.feeds.delete(feedId); }

      getFeed(feedId: string): MockPythFeed | undefined { return this.feeds.get(feedId); }

      /** Convert feed to PriceInfo format (matching PythOracle output) */
      toPriceInfo(feed: MockPythFeed): PriceInfo {
        const usdPrice = Number(feed.price) * Math.pow(10, feed.expo);
        const confidence = 1 - Number(feed.conf) / Number(feed.price);
        return {
          usdPrice,
          source: 'pyth' as const,
          confidence: Math.max(0, Math.min(1, confidence)),
          isStale: false,
          fetchedAt: Date.now(),
          expiresAt: Date.now() + 5 * 60 * 1000,
        };
      }

      /** Reset all feeds */
      reset(): void { this.feeds.clear(); }
    }
    ```

    2. **M9: MockPriceOracle** (`mock-price-oracle.ts`):

    IPriceOracle 인터페이스를 완전 구현하는 vi.fn() 기반 mock. Contract Test(CT-6)와 확장 기능 테스트에서 사용.

    ```ts
    import { vi } from 'vitest';
    import type { IPriceOracle, PriceInfo, CacheStats, TokenRef, ChainType } from '@waiaas/core';

    const DEFAULT_PRICE: PriceInfo = {
      usdPrice: 184.0,
      source: 'mock',
      confidence: 0.99,
      isStale: false,
      fetchedAt: Date.now(),
      expiresAt: Date.now() + 5 * 60 * 1000,
    };

    export class MockPriceOracle implements IPriceOracle {
      private prices = new Map<string, PriceInfo>();
      private nativePrices = new Map<string, PriceInfo>();
      private callCount = { getPrice: 0, getPrices: 0, getNativePrice: 0 };

      getPrice = vi.fn(async (token: TokenRef): Promise<PriceInfo> => {
        this.callCount.getPrice++;
        const key = `${token.chain}:${token.address}`;
        return this.prices.get(key) ?? { ...DEFAULT_PRICE, fetchedAt: Date.now(), expiresAt: Date.now() + 300000 };
      });

      getPrices = vi.fn(async (tokens: TokenRef[]): Promise<Map<string, PriceInfo>> => {
        this.callCount.getPrices++;
        const result = new Map<string, PriceInfo>();
        for (const token of tokens) {
          const key = `${token.chain}:${token.address}`;
          result.set(key, this.prices.get(key) ?? { ...DEFAULT_PRICE, fetchedAt: Date.now(), expiresAt: Date.now() + 300000 });
        }
        return result;
      });

      getNativePrice = vi.fn(async (chain: ChainType): Promise<PriceInfo> => {
        this.callCount.getNativePrice++;
        return this.nativePrices.get(chain) ?? {
          ...DEFAULT_PRICE,
          usdPrice: chain === 'solana' ? 184.0 : 3400.0,
          fetchedAt: Date.now(),
          expiresAt: Date.now() + 300000,
        };
      });

      getCacheStats = vi.fn((): CacheStats => ({
        hits: 0, misses: this.callCount.getPrice + this.callCount.getNativePrice, size: this.prices.size, evictions: 0,
      }));

      // --- Test helpers ---
      setPrice(chain: ChainType, address: string, price: Partial<PriceInfo>): void {
        this.prices.set(`${chain}:${address}`, { ...DEFAULT_PRICE, ...price, fetchedAt: Date.now(), expiresAt: Date.now() + 300000 });
      }

      setNativePrice(chain: ChainType, price: Partial<PriceInfo>): void {
        this.nativePrices.set(chain, { ...DEFAULT_PRICE, ...price, fetchedAt: Date.now(), expiresAt: Date.now() + 300000 });
      }

      reset(): void {
        this.prices.clear();
        this.nativePrices.clear();
        this.callCount = { getPrice: 0, getPrices: 0, getNativePrice: 0 };
        this.getPrice.mockClear();
        this.getPrices.mockClear();
        this.getNativePrice.mockClear();
        this.getCacheStats.mockClear();
      }
    }

    export function createMockPriceOracle(): MockPriceOracle {
      return new MockPriceOracle();
    }
    ```

    3. **M10: MockActionProvider** (`mock-action-provider.ts`):

    IActionProvider 인터페이스를 완전 구현. metadata, actions, resolve 모두 configurable. Contract Test(CT-7)과 Action Provider 테스트에서 사용.

    ```ts
    import { vi } from 'vitest';
    import { z } from 'zod';
    import type {
      IActionProvider,
      ActionProviderMetadata,
      ActionDefinition,
      ActionContext,
      ContractCallRequest,
    } from '@waiaas/core';

    const DEFAULT_METADATA: ActionProviderMetadata = {
      name: 'mock_provider',
      description: 'Mock action provider for testing',
      version: '1.0.0',
      chains: ['ethereum'],
      mcpExpose: false,
      requiresApiKey: false,
      requiredApis: [],
    };

    const DEFAULT_ACTION: ActionDefinition = {
      name: 'mock_action',
      description: 'A mock action for testing',
      chain: 'ethereum',
      inputSchema: z.object({ amount: z.string() }),
      riskLevel: 'low',
      defaultTier: 'INSTANT',
    };

    const DEFAULT_RESOLVE_RESULT: ContractCallRequest = {
      type: 'CONTRACT_CALL' as const,
      to: '0x1234567890abcdef1234567890abcdef12345678',
      calldata: '0xdeadbeef',
      value: '0',
    };

    export class MockActionProvider implements IActionProvider {
      readonly metadata: ActionProviderMetadata;
      readonly actions: readonly ActionDefinition[];

      private resolveResult: ContractCallRequest;

      resolve = vi.fn(async (
        actionName: string,
        params: Record<string, unknown>,
        context: ActionContext,
      ): Promise<ContractCallRequest> => {
        // 등록된 action 중 name이 일치하는지 확인
        const action = this.actions.find(a => a.name === actionName);
        if (!action) {
          throw new Error(`ACTION_NOT_FOUND: ${actionName}`);
        }
        // inputSchema 검증
        action.inputSchema.parse(params);
        return { ...this.resolveResult };
      });

      constructor(overrides?: {
        metadata?: Partial<ActionProviderMetadata>;
        actions?: ActionDefinition[];
        resolveResult?: ContractCallRequest;
      }) {
        this.metadata = { ...DEFAULT_METADATA, ...overrides?.metadata };
        this.actions = overrides?.actions ?? [DEFAULT_ACTION];
        this.resolveResult = overrides?.resolveResult ?? DEFAULT_RESOLVE_RESULT;
      }

      // --- Test helpers ---
      setResolveResult(result: ContractCallRequest): void {
        this.resolveResult = result;
      }

      setResolveError(error: Error): void {
        this.resolve.mockRejectedValueOnce(error);
      }

      reset(): void {
        this.resolveResult = DEFAULT_RESOLVE_RESULT;
        this.resolve.mockClear();
      }
    }

    export function createMockActionProvider(
      overrides?: ConstructorParameters<typeof MockActionProvider>[0],
    ): MockActionProvider {
      return new MockActionProvider(overrides);
    }
    ```

    4. **Barrel export** (`index.ts`):

    ```ts
    // M6: Jupiter API
    export { createJupiterHandlers, jupiterHandlers, createJupiterErrorHandlers } from './jupiter-msw-handlers.js';
    // M7: Price API (Pyth + CoinGecko)
    export { createPythHandlers, createCoinGeckoHandlers, pythHandlers, coingeckoHandlers, priceApiHandlers, createPriceApiErrorHandlers } from './price-api-msw-handlers.js';
    // M8: Onchain Oracle
    export { MockOnchainOracle, createMockPythFeed } from './mock-onchain-oracle.js';
    // M9: IPriceOracle
    export { MockPriceOracle, createMockPriceOracle } from './mock-price-oracle.js';
    // M10: IActionProvider
    export { MockActionProvider, createMockActionProvider } from './mock-action-provider.js';
    ```

    5. **검증 테스트** (`mock-price-oracle.test.ts` + `mock-action-provider.test.ts`):

    MockPriceOracle 테스트:
    - getPrice()가 기본 PriceInfo를 반환한다
    - setPrice()로 특정 토큰 가격을 설정하면 해당 값을 반환한다
    - getPrices()가 여러 토큰에 대해 Map을 반환한다
    - getNativePrice()가 체인별 기본 가격을 반환한다
    - getCacheStats()가 CacheStats 구조를 반환한다
    - vi.fn()으로 호출 횟수/인자를 검증할 수 있다
    - reset()이 모든 상태를 초기화한다

    MockActionProvider 테스트:
    - metadata가 IActionProvider.metadata 스키마를 만족한다
    - actions가 ActionDefinition[] 구조를 반환한다
    - resolve()가 ContractCallRequest를 반환한다
    - resolve()에 없는 actionName을 넘기면 ACTION_NOT_FOUND 에러를 던진다
    - inputSchema 검증 실패 시 ZodError를 던진다
    - setResolveResult()로 반환값을 변경할 수 있다
    - setResolveError()로 에러를 주입할 수 있다
    - vi.fn()으로 호출 검증이 가능하다
    - reset()이 모든 상태를 초기화한다
  </action>
  <verify>
    1. `ls packages/daemon/src/__tests__/mocks/` -- 6개 파일 존재 (jupiter-msw-handlers.ts, price-api-msw-handlers.ts, mock-onchain-oracle.ts, mock-price-oracle.ts, mock-action-provider.ts, index.ts) + 2개 테스트 파일
    2. `pnpm --filter @waiaas/daemon exec -- npx tsc --noEmit 2>&1 | tail -5` -- 타입 에러 없음
    3. `pnpm --filter @waiaas/daemon exec -- npx vitest run src/__tests__/mocks/ 2>&1 | tail -10` -- mock 검증 테스트 통과
  </verify>
  <done>
    5개 mock 모듈(M6~M10)이 모두 구현되고, barrel export를 통해 `import { MockPriceOracle, createJupiterHandlers, ... } from '../mocks/index.js'`로 사용 가능하다. MockPriceOracle과 MockActionProvider는 검증 테스트로 인터페이스 준수가 확인되었다. 후속 Phase에서 즉시 import하여 사용할 수 있다.
  </done>
</task>

</tasks>

<verification>
1. `pnpm --filter @waiaas/daemon exec -- npx vitest run src/__tests__/mocks/ 2>&1 | tail -15` -- 모든 mock 검증 테스트 통과
2. `pnpm --filter @waiaas/daemon exec -- npx tsc --noEmit` -- 타입 체크 통과
3. `grep -r "IPriceOracle" packages/daemon/src/__tests__/mocks/mock-price-oracle.ts` -- IPriceOracle 인터페이스 import 확인
4. `grep -r "IActionProvider" packages/daemon/src/__tests__/mocks/mock-action-provider.ts` -- IActionProvider 인터페이스 import 확인
5. `grep "msw" packages/daemon/package.json` -- msw 2.x 설치 확인
</verification>

<success_criteria>
- msw 2.x가 daemon devDependencies에 설치되어 있다
- M6 Jupiter msw 핸들러가 /v6/quote + /v6/swap-instructions를 인터셉트하고 configurable 응답을 반환한다
- M7 가격 API msw 핸들러가 Pyth Hermes + CoinGecko Demo API를 인터셉트한다
- M8 MockOnchainOracle이 Pyth 가격 피드 구조체를 인메모리로 관리한다
- M9 MockPriceOracle이 IPriceOracle 4개 메서드를 vi.fn() 기반으로 구현하고 검증 테스트를 통과한다
- M10 MockActionProvider가 IActionProvider 인터페이스를 완전 구현하고 검증 테스트를 통과한다
- barrel export(index.ts)로 모든 mock을 한 곳에서 import 가능하다
</success_criteria>

<output>
After completion, create `.planning/phases/151-coverage-mock-infra/151-02-SUMMARY.md`
</output>
