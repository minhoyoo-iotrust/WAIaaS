---
phase: 68-dashboard-agents-sessions
plan: 02
type: execute
wave: 2
depends_on: ["68-01"]
files_modified:
  - packages/admin/src/components/layout.tsx
  - packages/admin/src/pages/agents.tsx
  - packages/admin/src/pages/sessions.tsx
  - packages/admin/src/styles/global.css
autonomous: true

must_haves:
  truths:
    - "Agents list page shows table of agents with Name, Chain, Network, Public Key (truncated + CopyButton), Status badge, and Created columns"
    - "Clicking Create Agent shows inline form with name input, chain select (solana/ethereum), network select, and Submit/Cancel buttons"
    - "Clicking an agent row navigates to agent detail view showing all fields including Owner state"
    - "Agent detail view allows inline name editing (pencil icon -> text input -> Save/Cancel)"
    - "Agent detail view has Terminate button that opens confirmation modal, deletes on confirm, and navigates back"
    - "Sessions page has agent dropdown selector that loads agent list"
    - "Selecting an agent loads that agent's sessions in a table"
    - "Create Session button posts to API and shows modal with JWT token + CopyButton + warning"
    - "Revoke button on each session opens confirmation modal and revokes on confirm"
  artifacts:
    - path: "packages/admin/src/components/layout.tsx"
      provides: "Updated PageRouter supporting /agents/:id sub-routes"
      contains: "startsWith.*agents"
    - path: "packages/admin/src/pages/agents.tsx"
      provides: "Agents list + detail view with CRUD operations"
      min_lines: 200
    - path: "packages/admin/src/pages/sessions.tsx"
      provides: "Sessions page with agent dropdown, create, list, revoke"
      min_lines: 150
    - path: "packages/admin/src/styles/global.css"
      provides: "CSS for agent detail, inline edit, session token modal"
      contains: ".agent-detail"
  key_links:
    - from: "packages/admin/src/pages/agents.tsx"
      to: "/v1/agents"
      via: "apiGet for list, apiPost for create, apiPut for update, apiDelete for terminate"
      pattern: "apiGet.*API\\.AGENTS"
    - from: "packages/admin/src/pages/agents.tsx"
      to: "/v1/agents/:id"
      via: "apiGet for detail, apiPut for name update, apiDelete for terminate"
      pattern: "apiGet.*API\\.AGENT"
    - from: "packages/admin/src/pages/sessions.tsx"
      to: "/v1/sessions"
      via: "apiGet with agentId query, apiPost for create, apiDelete for revoke"
      pattern: "apiGet.*API\\.SESSIONS"
    - from: "packages/admin/src/components/layout.tsx"
      to: "packages/admin/src/pages/agents.tsx"
      via: "PageRouter routes /agents and /agents/* to AgentsPage"
      pattern: "startsWith.*\\/agents"
---

<objective>
Implement the Agents page (list + detail views with full CRUD) and Sessions page (agent-scoped session management with JWT token display). Update the layout router to support sub-routes for agent detail view.

Purpose: Enable agent lifecycle management (create, view, rename, terminate) and session management (create with token copy, view, revoke) -- the core operational UI of the admin panel.
Output: Working Agents page with list/detail/CRUD and Sessions page with agent-scoped session operations.
</objective>

<execution_context>
@/Users/minho.yoo/.claude/get-shit-done/workflows/execute-plan.md
@/Users/minho.yoo/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/67-auth-api-client-components/67-01-SUMMARY.md
@.planning/phases/67-auth-api-client-components/67-02-SUMMARY.md
@.planning/phases/68-dashboard-agents-sessions/68-01-SUMMARY.md
@packages/admin/src/api/client.ts
@packages/admin/src/api/endpoints.ts
@packages/admin/src/components/layout.tsx
@packages/admin/src/components/table.tsx
@packages/admin/src/components/form.tsx
@packages/admin/src/components/modal.tsx
@packages/admin/src/components/copy-button.tsx
@packages/admin/src/components/empty-state.tsx
@packages/admin/src/components/toast.tsx
@packages/admin/src/utils/format.ts
@packages/admin/src/utils/error-messages.ts
@packages/admin/src/styles/global.css
</context>

<tasks>

<task type="auto">
  <name>Task 1: Update layout router for sub-routes and implement Agents page</name>
  <files>
    packages/admin/src/components/layout.tsx
    packages/admin/src/pages/agents.tsx
    packages/admin/src/styles/global.css
  </files>
  <action>
**Step 1: Update layout router (packages/admin/src/components/layout.tsx)**

The current `PageRouter` does exact path matching. Agent detail view needs `#/agents/:id` support. Modify the router:

1. Export `currentPath` signal so pages can read it for sub-route parsing:
   ```typescript
   export const currentPath = signal(window.location.hash.slice(1) || '/dashboard');
   ```

2. Update the `PageRouter` switch to use `startsWith` for `/agents`:
   ```typescript
   function PageRouter() {
     const path = currentPath.value;
     if (path === '/sessions') return <SessionsPage />;
     if (path === '/policies') return <PoliciesPage />;
     if (path === '/settings') return <SettingsPage />;
     if (path.startsWith('/agents')) return <AgentsPage />;
     return <DashboardPage />;
   }
   ```

3. Update the `PAGE_TITLES` lookup in the header to handle dynamic paths:
   ```typescript
   function getPageTitle(path: string): string {
     if (path.startsWith('/agents/')) return 'Agent Detail';
     return PAGE_TITLES[path] ?? 'Dashboard';
   }
   ```
   Use `getPageTitle(currentPath.value)` in the header `<h1>`.

4. Update sidebar active state to use `startsWith` for agents:
   ```typescript
   const isActive = item.path === '/agents'
     ? currentPath.value.startsWith('/agents')
     : currentPath.value === item.path;
   ```

**Step 2: Implement Agents page (packages/admin/src/pages/agents.tsx)**

The Agents page has TWO modes: list view (path = `/agents`) and detail view (path = `/agents/:id`). The page component itself determines which mode based on `currentPath`.

**Imports:**
- `useSignal` from `@preact/signals`
- `useEffect` from `preact/hooks`
- `currentPath` from `../components/layout` (the exported signal)
- `apiGet, apiPost, apiPut, apiDelete, ApiError` from `../api/client`
- `API` from `../api/endpoints`
- `Table, Column` from `../components/table`
- `FormField, Button, Badge` from `../components/form`
- `Modal` from `../components/modal`
- `CopyButton` from `../components/copy-button`
- `EmptyState` from `../components/empty-state`
- `showToast` from `../components/toast`
- `getErrorMessage` from `../utils/error-messages`
- `formatDate, formatAddress` from `../utils/format`

**Type definitions:**
```typescript
interface Agent {
  id: string;
  name: string;
  chain: string;
  network: string;
  publicKey: string;
  status: string;
  createdAt: number;
}

interface AgentDetail extends Agent {
  ownerAddress: string | null;
  ownerVerified: boolean | null;
  ownerState: 'NONE' | 'GRACE' | 'LOCKED';
  updatedAt: number | null;
}
```

**Main component logic:**
```typescript
export default function AgentsPage() {
  const path = currentPath.value;
  const agentId = path.startsWith('/agents/') ? path.slice('/agents/'.length) : null;

  if (agentId) {
    return <AgentDetailView id={agentId} />;
  }
  return <AgentListView />;
}
```

**AgentListView component (local, not exported):**

Signals:
- `agents: Agent[]` = []
- `loading: boolean` = true
- `showForm: boolean` = false
- `formName: string` = ''
- `formChain: string` = 'solana'
- `formNetwork: string` = 'devnet'
- `formError: string | null` = null
- `formLoading: boolean` = false

Functions:
- `fetchAgents()`: apiGet<{ items: Agent[] }>(API.AGENTS), set agents.value = result.items, handle errors with showToast('error', ...)
- `handleCreate()`: validate name is non-empty, apiPost<Agent>(API.AGENTS, { name, chain, network }), on success: showToast('success', 'Agent created'), reset form, close form, refetch. On error: set formError.value = getErrorMessage(err.code)
- `navigateToDetail(agent: Agent)`: `window.location.hash = '#/agents/' + agent.id`

useEffect (empty deps): call fetchAgents()

Render:
```
<div class="page">
  <div class="page-actions">
    {!showForm.value && (
      <Button onClick={() => { showForm.value = true }}>Create Agent</Button>
    )}
  </div>

  {showForm.value && (
    <div class="inline-form">
      <FormField label="Name" name="name" value={formName.value} onChange={(v) => formName.value = v as string} required placeholder="e.g. trading-bot" error={formError.value ?? undefined} />
      <FormField label="Chain" name="chain" type="select" value={formChain.value} onChange={(v) => formChain.value = v as string} options={[{ label: 'Solana', value: 'solana' }, { label: 'Ethereum', value: 'ethereum' }]} />
      <FormField label="Network" name="network" type="select" value={formNetwork.value} onChange={(v) => formNetwork.value = v as string} options={chainNetworkOptions(formChain.value)} />
      <div class="inline-form-actions">
        <Button onClick={handleCreate} loading={formLoading.value}>Create</Button>
        <Button variant="secondary" onClick={() => { showForm.value = false; formError.value = null }}>Cancel</Button>
      </div>
    </div>
  )}

  <Table<Agent>
    columns={agentColumns}
    data={agents.value}
    loading={loading.value}
    onRowClick={navigateToDetail}
    emptyMessage="No agents yet"
  />
</div>
```

Helper `chainNetworkOptions(chain: string)`:
- If chain === 'solana': [{ label: 'Devnet', value: 'devnet' }, { label: 'Testnet', value: 'testnet' }, { label: 'Mainnet Beta', value: 'mainnet-beta' }]
- If chain === 'ethereum': [{ label: 'Sepolia', value: 'sepolia' }, { label: 'Mainnet', value: 'mainnet' }]
- Default: devnet options

When `formChain` changes, reset `formNetwork` to the first option of the new chain.

Table columns:
```typescript
const agentColumns: Column<Agent>[] = [
  { key: 'name', header: 'Name' },
  { key: 'chain', header: 'Chain' },
  { key: 'network', header: 'Network' },
  { key: 'publicKey', header: 'Public Key', render: (a) => (
    <span style={{ display: 'flex', alignItems: 'center', gap: '0.25rem' }}>
      {formatAddress(a.publicKey)} <CopyButton value={a.publicKey} />
    </span>
  )},
  { key: 'status', header: 'Status', render: (a) => (
    <Badge variant={a.status === 'ACTIVE' ? 'success' : 'danger'}>{a.status}</Badge>
  )},
  { key: 'createdAt', header: 'Created', render: (a) => formatDate(a.createdAt) },
];
```

**AgentDetailView component (local, { id: string } props):**

Signals:
- `agent: AgentDetail | null` = null
- `loading: boolean` = true
- `editing: boolean` = false
- `editName: string` = ''
- `editLoading: boolean` = false
- `deleteModal: boolean` = false
- `deleteLoading: boolean` = false

Functions:
- `fetchAgent()`: apiGet<AgentDetail>(API.AGENT(id)), set agent.value, loading.value = false
- `handleSaveName()`: apiPut<AgentDetail>(API.AGENT(id), { name: editName.value }), on success: update agent.value, editing.value = false, showToast success
- `handleDelete()`: apiDelete(API.AGENT(id)), on success: showToast success, navigate to `#/agents`
- `startEdit()`: editName.value = agent.value!.name, editing.value = true
- `cancelEdit()`: editing.value = false

useEffect with [id] deps: call fetchAgent()

Render:
```
<div class="page">
  <a href="#/agents" class="back-link">&larr; Back to Agents</a>

  {loading.value ? (
    <div class="stat-skeleton" style={{ height: '200px', marginTop: 'var(--space-4)' }} />
  ) : agent.value ? (
    <div class="agent-detail">
      <div class="detail-header">
        <div class="detail-name">
          {editing.value ? (
            <div class="inline-edit">
              <input value={editName.value} onInput={(e) => editName.value = (e.target as HTMLInputElement).value} class="inline-edit-input" />
              <Button size="sm" onClick={handleSaveName} loading={editLoading.value}>Save</Button>
              <Button size="sm" variant="secondary" onClick={cancelEdit}>Cancel</Button>
            </div>
          ) : (
            <span>
              {agent.value.name}
              <button class="btn btn-ghost btn-sm" onClick={startEdit} title="Edit name">&#9998;</button>
            </span>
          )}
        </div>
        <Button variant="danger" onClick={() => { deleteModal.value = true }}>Terminate Agent</Button>
      </div>

      <div class="detail-grid">
        <DetailRow label="ID" value={agent.value.id} copy />
        <DetailRow label="Public Key" value={agent.value.publicKey} copy />
        <DetailRow label="Chain" value={agent.value.chain} />
        <DetailRow label="Network" value={agent.value.network} />
        <DetailRow label="Status">
          <Badge variant={agent.value.status === 'ACTIVE' ? 'success' : 'danger'}>{agent.value.status}</Badge>
        </DetailRow>
        <DetailRow label="Owner Address" value={agent.value.ownerAddress ?? 'None'} copy={!!agent.value.ownerAddress} />
        <DetailRow label="Owner State">
          <Badge variant={ownerStateBadge(agent.value.ownerState)}>{agent.value.ownerState}</Badge>
        </DetailRow>
        <DetailRow label="Created" value={formatDate(agent.value.createdAt)} />
        <DetailRow label="Updated" value={agent.value.updatedAt ? formatDate(agent.value.updatedAt) : 'Never'} />
      </div>

      <Modal
        open={deleteModal.value}
        title="Terminate Agent"
        onCancel={() => { deleteModal.value = false }}
        onConfirm={handleDelete}
        confirmText="Terminate"
        confirmVariant="danger"
        loading={deleteLoading.value}
      >
        <p>Are you sure you want to terminate agent <strong>{agent.value.name}</strong>? This action cannot be undone.</p>
      </Modal>
    </div>
  ) : (
    <EmptyState title="Agent not found" description="The agent may have been deleted." />
  )}
</div>
```

Helper `DetailRow` local component:
```typescript
function DetailRow({ label, value, copy, children }: { label: string; value?: string; copy?: boolean; children?: ComponentChildren }) {
  return (
    <div class="detail-row">
      <div class="detail-row-label">{label}</div>
      <div class="detail-row-value">
        {children ?? value ?? 'â€”'}
        {copy && value && <CopyButton value={value} />}
      </div>
    </div>
  );
}
```

Helper `ownerStateBadge(state: string)`:
- 'NONE' -> 'neutral'
- 'GRACE' -> 'warning'
- 'LOCKED' -> 'success'
- default -> 'neutral'

**Step 3: CSS additions (packages/admin/src/styles/global.css)**

Append after the dashboard CSS added in 68-01:

```css
/* Page Actions */
.page-actions {
  display: flex;
  justify-content: flex-end;
  margin-bottom: var(--space-4);
}

/* Inline Form */
.inline-form {
  background: var(--color-bg-secondary);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-lg);
  padding: var(--space-4) var(--space-6);
  margin-bottom: var(--space-4);
}

.inline-form-actions {
  display: flex;
  gap: var(--space-2);
  margin-top: var(--space-2);
}

/* Back Link */
.back-link {
  display: inline-block;
  font-size: var(--font-size-sm);
  color: var(--color-text-secondary);
  margin-bottom: var(--space-4);
}

.back-link:hover {
  color: var(--color-primary);
}

/* Agent Detail */
.agent-detail {
  margin-top: var(--space-4);
}

.detail-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: var(--space-6);
}

.detail-name {
  font-size: var(--font-size-xl);
  font-weight: var(--font-weight-bold);
}

.detail-grid {
  display: grid;
  gap: 0;
}

.detail-row {
  display: flex;
  padding: var(--space-3) 0;
  border-bottom: 1px solid var(--color-border);
}

.detail-row-label {
  width: 160px;
  flex-shrink: 0;
  font-size: var(--font-size-sm);
  font-weight: var(--font-weight-medium);
  color: var(--color-text-secondary);
}

.detail-row-value {
  font-size: var(--font-size-sm);
  display: flex;
  align-items: center;
  gap: var(--space-2);
  word-break: break-all;
}

/* Inline Edit */
.inline-edit {
  display: flex;
  align-items: center;
  gap: var(--space-2);
}

.inline-edit-input {
  padding: var(--space-1) var(--space-2);
  border: 1px solid var(--color-primary);
  border-radius: var(--radius-md);
  font-size: var(--font-size-base);
  outline: none;
}
```
  </action>
  <verify>
1. Run `cd /Users/minho.yoo/dev/wallet/WAIaaS && pnpm --filter @waiaas/admin build` -- should succeed with no errors
2. Verify layout.tsx exports `currentPath` signal
3. Verify layout.tsx PageRouter uses `startsWith('/agents')` for routing
4. Verify agents.tsx has AgentListView with Table and create form
5. Verify agents.tsx has AgentDetailView with detail rows and edit/delete
6. Verify agents.tsx imports apiGet, apiPost, apiPut, apiDelete
7. Verify agents.tsx defines Agent and AgentDetail interfaces
8. Verify global.css contains .agent-detail, .detail-row, .inline-form, .inline-edit classes
  </verify>
  <done>
Layout router supports /agents/:id sub-routes. Agents list page shows agent table with all columns, row click navigates to detail. Create Agent inline form submits to API with chain/network selects. Agent detail view shows all fields including Owner state with inline name editing and Terminate with confirmation modal. All CRUD operations wired to daemon API. Build succeeds.
  </done>
</task>

<task type="auto">
  <name>Task 2: Implement Sessions page with agent dropdown and JWT token display</name>
  <files>
    packages/admin/src/pages/sessions.tsx
    packages/admin/src/styles/global.css
  </files>
  <action>
**Implement Sessions page (packages/admin/src/pages/sessions.tsx):**

**Imports:**
- `useSignal` from `@preact/signals`
- `useEffect` from `preact/hooks`
- `apiGet, apiPost, apiDelete, ApiError` from `../api/client`
- `API` from `../api/endpoints`
- `Table, Column` from `../components/table`
- `Button, Badge` from `../components/form`
- `Modal` from `../components/modal`
- `CopyButton` from `../components/copy-button`
- `showToast` from `../components/toast`
- `getErrorMessage` from `../utils/error-messages`
- `formatDate` from `../utils/format`

**Type definitions:**
```typescript
interface Agent {
  id: string;
  name: string;
  chain: string;
  network: string;
  publicKey: string;
  status: string;
  createdAt: number;
}

interface Session {
  id: string;
  agentId: string;
  status: string;
  renewalCount: number;
  maxRenewals: number;
  expiresAt: number;
  absoluteExpiresAt: number;
  createdAt: number;
  lastRenewedAt: number | null;
}

interface CreatedSession {
  id: string;
  token: string;
  expiresAt: number;
  agentId: string;
}
```

**Component signals:**
- `agents: Agent[]` = []
- `selectedAgentId: string` = ''
- `sessions: Session[]` = []
- `loading: boolean` = false
- `agentsLoading: boolean` = true
- `createLoading: boolean` = false
- `tokenModal: boolean` = false
- `createdToken: string` = ''
- `revokeModal: boolean` = false
- `revokeSessionId: string` = ''
- `revokeLoading: boolean` = false

**Functions:**

`fetchAgents()`:
- apiGet<{ items: Agent[] }>(API.AGENTS)
- Set agents.value = result.items.filter(a => a.status === 'ACTIVE')
- agentsLoading.value = false
- On error: showToast('error', ...)

`fetchSessions()`:
- If no selectedAgentId.value, return
- loading.value = true
- apiGet<Session[]>(`${API.SESSIONS}?agentId=${selectedAgentId.value}`)
- sessions.value = result
- loading.value = false
- On error: showToast('error', ...), loading.value = false

`handleCreate()`:
- createLoading.value = true
- apiPost<CreatedSession>(API.SESSIONS, { agentId: selectedAgentId.value })
- On success: createdToken.value = result.token, tokenModal.value = true, createLoading.value = false, fetchSessions()
- On error: showToast('error', getErrorMessage(err.code)), createLoading.value = false

`handleRevoke()`:
- revokeLoading.value = true
- apiDelete(API.SESSION(revokeSessionId.value))
- On success: showToast('success', 'Session revoked'), revokeModal.value = false, revokeLoading.value = false, fetchSessions()
- On error: showToast('error', ...), revokeLoading.value = false

`openRevoke(id: string)`:
- revokeSessionId.value = id
- revokeModal.value = true

**useEffect (empty deps):** fetchAgents()

**useEffect ([selectedAgentId.value]):** When selectedAgentId changes, call fetchSessions(). Reset sessions.value = [] when changing agent.

**Render:**
```
<div class="page">
  <div class="session-controls">
    <div class="session-agent-select">
      <label for="agent-select">Agent</label>
      <select
        id="agent-select"
        value={selectedAgentId.value}
        onChange={(e) => { selectedAgentId.value = (e.target as HTMLSelectElement).value }}
        disabled={agentsLoading.value}
      >
        <option value="">Select an agent...</option>
        {agents.value.map(a => (
          <option key={a.id} value={a.id}>{a.name} ({a.chain}/{a.network})</option>
        ))}
      </select>
    </div>
    <Button
      onClick={handleCreate}
      disabled={!selectedAgentId.value}
      loading={createLoading.value}
    >
      Create Session
    </Button>
  </div>

  {!selectedAgentId.value ? (
    <EmptyState title="Select an agent" description="Choose an agent from the dropdown above to view its sessions." />
  ) : (
    <Table<Session>
      columns={sessionColumns}
      data={sessions.value}
      loading={loading.value}
      emptyMessage="No sessions for this agent"
    />
  )}

  {/* Token Display Modal */}
  <Modal
    open={tokenModal.value}
    title="Session Created"
    onCancel={() => { tokenModal.value = false }}
    cancelText="Close"
  >
    <p class="token-warning">Copy this token now. It will not be shown again.</p>
    <div class="token-display">
      <code class="token-value">{createdToken.value}</code>
      <CopyButton value={createdToken.value} label="Copy Token" />
    </div>
  </Modal>

  {/* Revoke Confirmation Modal */}
  <Modal
    open={revokeModal.value}
    title="Revoke Session"
    onCancel={() => { revokeModal.value = false }}
    onConfirm={handleRevoke}
    confirmText="Revoke"
    confirmVariant="danger"
    loading={revokeLoading.value}
  >
    <p>Are you sure you want to revoke this session? The associated token will be immediately invalidated.</p>
  </Modal>
</div>
```

**Table columns:**
```typescript
const sessionColumns: Column<Session>[] = [
  { key: 'id', header: 'ID', render: (s) => s.id.slice(0, 8) + '...' },
  { key: 'status', header: 'Status', render: (s) => (
    <Badge variant={s.status === 'ACTIVE' ? 'success' : s.status === 'EXPIRED' ? 'warning' : 'danger'}>
      {s.status}
    </Badge>
  )},
  { key: 'expiresAt', header: 'Expires At', render: (s) => formatDate(s.expiresAt) },
  { key: 'renewals', header: 'Renewals', render: (s) => `${s.renewalCount}/${s.maxRenewals}` },
  { key: 'createdAt', header: 'Created', render: (s) => formatDate(s.createdAt) },
  { key: 'actions', header: 'Actions', render: (s) => (
    s.status === 'ACTIVE' ? (
      <Button size="sm" variant="danger" onClick={(e?: Event) => { e?.stopPropagation(); openRevoke(s.id) }}>
        Revoke
      </Button>
    ) : null
  )},
];
```

Note: The Revoke button's onClick calls `e?.stopPropagation()` -- however since we're not using onRowClick on the sessions table, this is optional. Include it for safety. The Button component's onClick type is `() => void`, so we need to handle this by wrapping: `onClick={() => openRevoke(s.id)}` and using a wrapper div or adjusting. Actually, since the render function returns JSX and the button has its own onClick, just use `onClick={() => openRevoke(s.id)}` directly.

Also import `EmptyState` from `../components/empty-state`.

**CSS additions (packages/admin/src/styles/global.css):**

Append after the agent detail CSS:

```css
/* Session Controls */
.session-controls {
  display: flex;
  align-items: flex-end;
  gap: var(--space-4);
  margin-bottom: var(--space-4);
}

.session-agent-select {
  flex: 1;
  max-width: 400px;
}

.session-agent-select label {
  display: block;
  font-size: var(--font-size-sm);
  font-weight: var(--font-weight-medium);
  color: var(--color-text);
  margin-bottom: var(--space-1);
}

.session-agent-select select {
  width: 100%;
  padding: var(--space-2) var(--space-3);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-md);
  font-size: var(--font-size-sm);
  background: var(--color-bg);
  color: var(--color-text);
  outline: none;
}

.session-agent-select select:focus {
  border-color: var(--color-primary);
  box-shadow: 0 0 0 2px var(--color-primary-light);
}

/* Token Display */
.token-warning {
  color: var(--color-warning);
  font-weight: var(--font-weight-semibold);
  font-size: var(--font-size-sm);
  margin-bottom: var(--space-3);
}

.token-display {
  background: var(--color-bg-tertiary);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-md);
  padding: var(--space-3);
  display: flex;
  align-items: center;
  gap: var(--space-2);
}

.token-value {
  flex: 1;
  font-size: var(--font-size-xs);
  word-break: break-all;
  font-family: 'SF Mono', 'Fira Code', monospace;
}
```
  </action>
  <verify>
1. Run `cd /Users/minho.yoo/dev/wallet/WAIaaS && pnpm --filter @waiaas/admin build` -- should succeed with no errors
2. Verify sessions.tsx imports apiGet, apiPost, apiDelete
3. Verify sessions.tsx has agent dropdown with option rendering
4. Verify sessions.tsx has token display Modal with CopyButton
5. Verify sessions.tsx has revoke confirmation Modal
6. Verify sessions.tsx defines Session and CreatedSession interfaces
7. Verify global.css contains .session-controls, .token-display, .token-warning classes
  </verify>
  <done>
Sessions page shows agent dropdown populated from GET /v1/agents. Selecting an agent loads sessions via GET /v1/sessions?agentId=. Create Session button posts to API and shows modal with JWT token + CopyButton + one-time-display warning. Revoke button opens confirmation modal and revokes via DELETE. Session table shows ID, Status badge, Expires At, Renewals counter, Created, and Actions columns. Build succeeds.
  </done>
</task>

</tasks>

<verification>
1. `pnpm --filter @waiaas/admin build` passes
2. Layout router correctly routes /agents/:id to AgentsPage
3. AgentsPage shows list view at /agents and detail view at /agents/:id
4. Agent CRUD operations use correct API endpoints
5. Sessions page loads agents for dropdown, sessions per agent, supports create/revoke
6. Token display modal shows with CopyButton and warning text
7. No TypeScript errors in the admin package
</verification>

<success_criteria>
- Agents list: Table with 6 columns, row click to detail, Create Agent inline form
- Agent detail: All fields with Owner state badge, inline name edit, Terminate with modal
- Sessions: Agent dropdown, session table with 6 columns, Create with token modal, Revoke with modal
- All API calls correctly wired to daemon endpoints with error handling
- CSS styles for all new components (inline form, detail view, session controls, token display)
- Build passes with zero errors
</success_criteria>

<output>
After completion, create `.planning/phases/68-dashboard-agents-sessions/68-02-SUMMARY.md`
</output>
