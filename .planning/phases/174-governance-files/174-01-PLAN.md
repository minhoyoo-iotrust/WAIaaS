---
phase: 174-governance-files
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - SECURITY.md
  - CODE_OF_CONDUCT.md
  - CONTRIBUTING.md
  - .github/ISSUE_TEMPLATE/bug-report.yml
  - .github/ISSUE_TEMPLATE/feature-request.yml
  - .github/PULL_REQUEST_TEMPLATE.md
autonomous: true
requirements:
  - GOV-01
  - GOV-02
  - GOV-03
  - GOV-04

must_haves:
  truths:
    - "SECURITY.md가 루트에 존재하며 Responsible Disclosure 정책, 신고 채널(이메일), 대응 SLA가 명시되어 있다"
    - "CODE_OF_CONDUCT.md가 루트에 존재하며 Contributor Covenant v2.1 기반으로 작성되어 있다"
    - ".github/ISSUE_TEMPLATE/에 Bug Report와 Feature Request YAML 템플릿이 존재한다"
    - ".github/PULL_REQUEST_TEMPLATE.md가 존재하며 변경 요약, 테스트 방법, 관련 이슈 체크리스트를 포함한다"
    - "CONTRIBUTING.md가 CODE_OF_CONDUCT.md를 참조한다"
  artifacts:
    - path: "SECURITY.md"
      provides: "보안 취약점 신고 정책"
      contains: "Responsible Disclosure"
    - path: "CODE_OF_CONDUCT.md"
      provides: "행동 강령"
      contains: "Contributor Covenant"
    - path: ".github/ISSUE_TEMPLATE/bug-report.yml"
      provides: "버그 리포트 이슈 템플릿"
      contains: "name: Bug Report"
    - path: ".github/ISSUE_TEMPLATE/feature-request.yml"
      provides: "기능 요청 이슈 템플릿"
      contains: "name: Feature Request"
    - path: ".github/PULL_REQUEST_TEMPLATE.md"
      provides: "PR 템플릿"
      contains: "Test Plan"
  key_links:
    - from: "CONTRIBUTING.md"
      to: "CODE_OF_CONDUCT.md"
      via: "markdown link reference"
      pattern: "CODE_OF_CONDUCT"
---

<objective>
퍼블릭 리포지토리 전환에 필수적인 거버넌스 파일(SECURITY.md, CODE_OF_CONDUCT.md, Issue/PR 템플릿)을 일괄 생성한다.

Purpose: 오픈소스 프로젝트의 기본 체계를 갖추어 외부 기여자가 보안 신고, 이슈 등록, PR 제출 절차를 명확히 알 수 있도록 한다.
Output: 6개 파일 생성/수정 (SECURITY.md, CODE_OF_CONDUCT.md, CONTRIBUTING.md 수정, 이슈 템플릿 2개, PR 템플릿 1개)
</objective>

<execution_context>
@/Users/minho.yoo/.claude/get-shit-done/workflows/execute-plan.md
@/Users/minho.yoo/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@CONTRIBUTING.md
@LICENSE
</context>

<tasks>

<task type="auto">
  <name>Task 1: SECURITY.md + CODE_OF_CONDUCT.md 생성 및 CONTRIBUTING.md 갱신</name>
  <files>SECURITY.md, CODE_OF_CONDUCT.md, CONTRIBUTING.md</files>
  <action>
1. SECURITY.md를 프로젝트 루트에 생성한다. 영문으로 작성하며 다음 섹션을 포함한다:
   - **Security Policy** 제목
   - **Supported Versions**: 현재 지원 버전 표 (v2.0.x = Supported, v1.x = Not supported)
   - **Reporting a Vulnerability**: Responsible Disclosure 정책 명시. 공개 이슈로 올리지 말 것을 강조. 신고 이메일은 `security@waiaas.dev`(placeholder). 신고 시 포함할 정보 목록 (description, reproduction steps, impact, affected versions).
   - **Response SLA**: 확인 응답 48시간 이내, 초기 평가 7일 이내, 수정 릴리스 90일 이내 목표 명시.
   - **Disclosure Policy**: 수정 릴리스 후 공개, credit 부여 정책.
   - **Scope**: 범위 내/외 항목 (in-scope: daemon, SDK, MCP server, Admin UI, CLI; out-of-scope: third-party dependencies 자체 취약점, social engineering).

2. CODE_OF_CONDUCT.md를 프로젝트 루트에 생성한다. Contributor Covenant v2.1 전문을 영문으로 작성한다:
   - 제목: "Contributor Covenant Code of Conduct"
   - Our Pledge, Our Standards, Enforcement Responsibilities, Scope, Enforcement, Enforcement Guidelines (1. Correction, 2. Warning, 3. Temporary Ban, 4. Permanent Ban), Attribution 섹션 모두 포함.
   - Attribution에 Contributor Covenant v2.1 링크 (https://www.contributor-covenant.org/version/2/1/code_of_conduct.html) 포함.
   - contact method는 프로젝트 메인테이너 이메일 `conduct@waiaas.dev`(placeholder)로 지정.

3. CONTRIBUTING.md 3번째 줄을 수정한다:
   - 기존: "This is a streamlined open-source project without a formal Code of Conduct -- just be respectful and constructive."
   - 변경: "This project follows the [Contributor Covenant Code of Conduct](CODE_OF_CONDUCT.md). By participating, you agree to uphold this code."
   - 나머지 내용은 그대로 유지한다.
  </action>
  <verify>
파일 존재 확인: `ls SECURITY.md CODE_OF_CONDUCT.md CONTRIBUTING.md`
내용 확인:
- `grep -c "Responsible Disclosure" SECURITY.md` >= 1
- `grep -c "48" SECURITY.md` >= 1 (48시간 SLA)
- `grep -c "Contributor Covenant" CODE_OF_CONDUCT.md` >= 1
- `grep -c "2.1" CODE_OF_CONDUCT.md` >= 1
- `grep "CODE_OF_CONDUCT" CONTRIBUTING.md` 출력 확인
  </verify>
  <done>
SECURITY.md가 Responsible Disclosure 정책, security@waiaas.dev 신고 채널, 48h/7d/90d 대응 SLA를 포함한다. CODE_OF_CONDUCT.md가 Contributor Covenant v2.1 전문을 포함한다. CONTRIBUTING.md가 CODE_OF_CONDUCT.md를 참조한다.
  </done>
</task>

<task type="auto">
  <name>Task 2: GitHub Issue 템플릿 + PR 템플릿 생성</name>
  <files>.github/ISSUE_TEMPLATE/bug-report.yml, .github/ISSUE_TEMPLATE/feature-request.yml, .github/PULL_REQUEST_TEMPLATE.md</files>
  <action>
1. `.github/ISSUE_TEMPLATE/` 디렉토리를 생성한다 (없으면).

2. `.github/ISSUE_TEMPLATE/bug-report.yml`을 YAML form 형식으로 생성한다:
   ```yaml
   name: Bug Report
   description: Report a bug or unexpected behavior
   labels: ["bug"]
   body:
     - type: textarea
       id: description
       attributes:
         label: Bug Description
         description: A clear description of the bug
       validations:
         required: true
     - type: textarea
       id: reproduction
       attributes:
         label: Steps to Reproduce
         description: Steps to reproduce the behavior
         placeholder: |
           1. Start the daemon with '...'
           2. Send request to '...'
           3. See error
       validations:
         required: true
     - type: textarea
       id: expected
       attributes:
         label: Expected Behavior
         description: What you expected to happen
       validations:
         required: true
     - type: input
       id: version
       attributes:
         label: WAIaaS Version
         description: "Output of `waiaas --version`"
         placeholder: "e.g., 2.0.0"
       validations:
         required: true
     - type: dropdown
       id: package
       attributes:
         label: Affected Package
         description: Which package is affected?
         options:
           - "@waiaas/daemon"
           - "@waiaas/cli"
           - "@waiaas/sdk"
           - "@waiaas/mcp"
           - "@waiaas/admin"
           - "@waiaas/core"
           - "@waiaas/types"
           - "waiaas-sdk (Python)"
           - "Other"
       validations:
         required: true
     - type: textarea
       id: environment
       attributes:
         label: Environment
         description: OS, Node.js version, etc.
         placeholder: |
           - OS: macOS 15.3
           - Node.js: 22.x
           - Chain: Solana Devnet
       validations:
         required: false
     - type: textarea
       id: logs
       attributes:
         label: Relevant Logs
         description: Any error messages or logs
         render: shell
       validations:
         required: false
   ```

3. `.github/ISSUE_TEMPLATE/feature-request.yml`을 YAML form 형식으로 생성한다:
   ```yaml
   name: Feature Request
   description: Suggest a new feature or enhancement
   labels: ["enhancement"]
   body:
     - type: textarea
       id: problem
       attributes:
         label: Problem Statement
         description: What problem does this feature solve?
         placeholder: "I'm frustrated when..."
       validations:
         required: true
     - type: textarea
       id: solution
       attributes:
         label: Proposed Solution
         description: How would you like this to work?
       validations:
         required: true
     - type: textarea
       id: alternatives
       attributes:
         label: Alternatives Considered
         description: Any alternative solutions you've considered?
       validations:
         required: false
     - type: dropdown
       id: scope
       attributes:
         label: Affected Area
         description: Which area of WAIaaS does this relate to?
         options:
           - "REST API"
           - "SDK (TypeScript)"
           - "SDK (Python)"
           - "MCP Server"
           - "Admin UI"
           - "CLI"
           - "Policy Engine"
           - "Chain Adapter"
           - "Documentation"
           - "Other"
       validations:
         required: true
     - type: textarea
       id: context
       attributes:
         label: Additional Context
         description: Any other context, screenshots, or references
       validations:
         required: false
   ```

4. `.github/PULL_REQUEST_TEMPLATE.md`를 Markdown으로 생성한다:
   ```markdown
   ## Summary

   <!-- Brief description of the changes -->

   ## Changes

   -

   ## Related Issues

   <!-- Link related issues: Closes #123, Fixes #456 -->

   ## Checklist

   - [ ] Changes are covered by tests
   - [ ] `pnpm test` passes locally
   - [ ] `pnpm build` succeeds
   - [ ] Documentation updated (if applicable)
   - [ ] Skill files updated (if API/SDK/MCP changed, per CLAUDE.md Interface Sync rule)

   ## Test Plan

   <!-- How to verify these changes work correctly -->

   1.
   ```

모든 파일은 영문으로 작성한다 (CLAUDE.md: "Commit messages and PR titles/bodies are written in English" + 이 파일들은 public-facing이므로 영문).
  </action>
  <verify>
파일 존재 확인: `ls .github/ISSUE_TEMPLATE/bug-report.yml .github/ISSUE_TEMPLATE/feature-request.yml .github/PULL_REQUEST_TEMPLATE.md`
내용 확인:
- `grep "name: Bug Report" .github/ISSUE_TEMPLATE/bug-report.yml`
- `grep "name: Feature Request" .github/ISSUE_TEMPLATE/feature-request.yml`
- `grep "Test Plan" .github/PULL_REQUEST_TEMPLATE.md`
- `grep "Checklist" .github/PULL_REQUEST_TEMPLATE.md`
- `grep "Related Issues" .github/PULL_REQUEST_TEMPLATE.md`
YAML 문법 검증: `node -e "const yaml = require('yaml'); const fs = require('fs'); yaml.parse(fs.readFileSync('.github/ISSUE_TEMPLATE/bug-report.yml','utf8')); yaml.parse(fs.readFileSync('.github/ISSUE_TEMPLATE/feature-request.yml','utf8')); console.log('YAML valid')"`
  </verify>
  <done>
.github/ISSUE_TEMPLATE/에 bug-report.yml, feature-request.yml 두 YAML 폼 템플릿이 존재한다. .github/PULL_REQUEST_TEMPLATE.md에 Summary, Changes, Related Issues, Checklist (테스트/빌드/문서/스킬 파일), Test Plan 섹션이 포함된다.
  </done>
</task>

</tasks>

<verification>
1. 파일 존재 확인: `ls SECURITY.md CODE_OF_CONDUCT.md .github/ISSUE_TEMPLATE/bug-report.yml .github/ISSUE_TEMPLATE/feature-request.yml .github/PULL_REQUEST_TEMPLATE.md`
2. SECURITY.md 핵심 키워드: `grep -E "(Responsible Disclosure|security@waiaas.dev|48 hours|7 days|90 days)" SECURITY.md | wc -l` >= 3
3. CODE_OF_CONDUCT.md 핵심 키워드: `grep -E "(Contributor Covenant|2\.1|Our Pledge|Enforcement)" CODE_OF_CONDUCT.md | wc -l` >= 3
4. Issue 템플릿 YAML 유효성: node yaml.parse 통과
5. PR 템플릿 체크리스트: `grep -c "\- \[ \]" .github/PULL_REQUEST_TEMPLATE.md` >= 4
6. CONTRIBUTING.md 참조: `grep "CODE_OF_CONDUCT" CONTRIBUTING.md` 존재
</verification>

<success_criteria>
- SECURITY.md: Responsible Disclosure 정책, security@waiaas.dev 채널, 48h/7d/90d SLA 명시
- CODE_OF_CONDUCT.md: Contributor Covenant v2.1 전문, conduct@waiaas.dev 연락처
- bug-report.yml: YAML form with description, steps, expected, version, package, environment, logs 필드
- feature-request.yml: YAML form with problem, solution, alternatives, scope, context 필드
- PULL_REQUEST_TEMPLATE.md: Summary, Changes, Related Issues, Checklist (5항목), Test Plan
- CONTRIBUTING.md: CODE_OF_CONDUCT.md 링크 참조로 갱신
</success_criteria>

<output>
After completion, create `.planning/phases/174-governance-files/174-01-SUMMARY.md`
</output>
