---
phase: 88-integration-verification
plan: 03
type: execute
wave: 2
depends_on: ["88-01", "88-02"]
files_modified: []
autonomous: true

must_haves:
  truths:
    - "기존 전체 테스트 스위트(1,126+ tests)가 회귀 없이 통과한다"
    - "v1.4.1 전체 Phase (82-88)의 테스트가 모두 통과한다"
    - "사전 알려진 실패(cli e2e 3건)를 제외한 전체 테스트가 0 failure이다"
  artifacts: []
  key_links: []
---

<objective>
전체 테스트 스위트를 실행하여 v1.4.1 마일스톤의 모든 Phase(82-88)에서 도입된 코드가 기존 기능에 회귀를 일으키지 않음을 확인한다.

Purpose: Phase 88의 최종 성공 기준(SC-5)을 달성한다. 새로 추가된 E2E 테스트(88-01, 88-02)와 기존 1,294개 테스트가 함께 통과하는 것을 검증한다.

Output: 전체 테스트 통과 확인 (SUMMARY에 결과 기록)
</objective>

<execution_context>
@/Users/minho.yoo/.claude/get-shit-done/workflows/execute-plan.md
@/Users/minho.yoo/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Full regression test run and fix</name>
  <files></files>
  <action>
Run the complete test suite and verify all tests pass:

**Step 1: Run full test suite**
```bash
npx vitest run --reporter=verbose
```

**Step 2: Analyze results**
- Expected passing: 1,294+ existing tests + ~16 new tests from 88-01 and 88-02
- Expected failing: 3 pre-existing cli e2e failures (e2e-agent-wallet.test.ts, e2e-transaction.test.ts x2) -- these require a running daemon and are known flaky
- Any NEW failures (beyond the known 3) must be investigated and fixed

**Step 3: If new failures found, fix them**
- Identify the root cause (test isolation issue, import error, mock conflict, etc.)
- Apply minimal fix to resolve the failure
- Re-run the specific test file to confirm the fix
- Re-run the full suite to verify no cascading issues

**Step 4: Record final metrics**
- Total test files
- Total tests (passed/failed/skipped)
- Total execution time
- Confirm: new tests from 88-01 and 88-02 are included in the count

**Known pre-existing failures (do NOT count as regressions):**
- `packages/cli/src/__tests__/e2e-agent-wallet.test.ts` -- E-07: GET /v1/wallet/balance (needs running daemon)
- `packages/cli/src/__tests__/e2e-transaction.test.ts` -- E-08: POST /v1/transactions/send (needs running daemon)
- `packages/cli/src/__tests__/e2e-transaction.test.ts` -- E-09: GET /v1/transactions/:id (needs running daemon)

**Success definition:** Zero new failures beyond the known 3. Total test count >= 1,310 (1,294 existing + ~16 new).
  </action>
  <verify>
Run: `npx vitest run`
Result: Only 3 pre-existing cli e2e failures. All other tests pass. Total passed >= 1,310.
  </verify>
  <done>
Full test suite passes with zero new regressions. Total test count exceeds 1,310. v1.4.1 milestone verified complete.
  </done>
</task>

</tasks>

<verification>
1. `npx vitest run` -- total passed >= 1,310, failed <= 3 (pre-existing)
2. New E2E tests from plans 01 and 02 are included in the passing count
3. No new test files flagged as failing
</verification>

<success_criteria>
- Zero new test failures (only pre-existing 3 cli e2e failures)
- Total passing tests >= 1,310
- All packages compile and test without errors
- v1.4.1 ready for milestone tagging
</success_criteria>

<output>
After completion, create `.planning/phases/88-integration-verification/88-03-SUMMARY.md`
</output>
