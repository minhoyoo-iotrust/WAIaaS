# Plan 216-01: SolanaIncomingSubscriber 구독 전략 + TX 파싱 알고리즘 + ATA 감지 명세

## Goal
SolanaIncomingSubscriber가 SOL + SPL 토큰(Token-2022 포함) 수신을 빠짐없이 감지하는 전략을 설계 문서로 정의한다.

## Requirements
- MON-02: logsSubscribe(mentions) + getTransaction(jsonParsed) 파싱 전략으로 SOL + SPL 수신 감지
- MON-08: 기존 ATA 구독 + 신규 ATA 생성 감지 2레벨 구독 설계

## Tasks
1. logsSubscribe({ mentions: [walletAddress] }) 구독 패턴 명세
2. getTransaction(jsonParsed) TX 파싱 알고리즘 (preBalances/postBalances, preTokenBalances/postTokenBalances)
3. SOL 네이티브 전송 감지 로직
4. SPL 토큰 전송 감지 로직 (Token Program + Token-2022 Program)
5. ATA 2레벨 구독 설계 (기존 ATA + 신규 ATA 생성 감지)
6. getSignaturesForAddress 폴링 폴백 커서 관리 전략
7. confirmed/finalized 2단계 commitment 정책

## Output
설계 문서 76 섹션 3: Solana 수신 감지 전략
