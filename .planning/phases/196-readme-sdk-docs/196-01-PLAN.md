---
phase: 196-readme-sdk-docs
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - README.md
  - skills/quickstart.skill.md
  - skills/wallet.skill.md
  - skills/transactions.skill.md
  - skills/policies.skill.md
  - skills/admin.skill.md
  - skills/actions.skill.md
  - skills/x402.skill.md
  - packages/skills/scripts/sync-version.mjs
autonomous: true
requirements:
  - README-01
  - README-02

must_haves:
  truths:
    - "README SDK code example uses balance.balance (not balance.amount) matching BalanceResponse interface"
    - "README SDK code example uses tx.id (not tx.signature) matching SendTokenResponse interface"
    - "Root skills/ files version headers are synced to package version at build time"
    - "packages/skills/skills/ files continue to be synced at build time (existing behavior preserved)"
  artifacts:
    - path: "README.md"
      provides: "Correct SDK code example"
      contains: "balance.balance"
    - path: "packages/skills/scripts/sync-version.mjs"
      provides: "Version sync for both root and packages skill files"
      contains: "skills"
  key_links:
    - from: "packages/skills/scripts/sync-version.mjs"
      to: "skills/*.skill.md"
      via: "regex replace version header in root skills dir"
      pattern: "version.*replace"
    - from: "README.md"
      to: "packages/sdk/src/types.ts"
      via: "field names match actual interface definitions"
      pattern: "balance\\.balance|tx\\.id"
---

<objective>
README SDK code example 수정 + skill file version 자동 치환 확장

Purpose: README의 SDK 코드 예시를 복붙하면 타입 에러 없이 동작하고, 모든 skill 파일의 version 헤더가 빌드 시 최신 패키지 버전으로 자동 치환된다.
Output: 수정된 README.md, 확장된 sync-version.mjs, 동기화된 root skills/ version headers
</objective>

<execution_context>
@/Users/minho.yoo/.claude/get-shit-done/workflows/execute-plan.md
@/Users/minho.yoo/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md

@packages/sdk/src/types.ts
@packages/sdk/src/client.ts
@packages/skills/scripts/sync-version.mjs
@README.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Fix README SDK code example to match actual API response fields</name>
  <files>README.md</files>
  <action>
In README.md "Using the SDK" section (lines 87-103), fix the SDK code example to match actual response types from packages/sdk/src/types.ts:

1. `balance.amount` -> `balance.balance` (BalanceResponse has `balance: string`, not `amount`)
2. `Balance: ${balance.amount} SOL` -> `Balance: ${balance.balance} ${balance.symbol}` (also use dynamic symbol)
3. `tx.signature` -> `tx.id` (SendTokenResponse has `id: string`, not `signature`)
4. `Transaction: ${tx.signature}` -> `Transaction: ${tx.id}` (matches SendTokenResponse)

The corrected code block should look like:
```typescript
const balance = await client.getBalance();
console.log(`Balance: ${balance.balance} ${balance.symbol}`);

const tx = await client.sendToken({
  to: 'recipient-address...',
  amount: '0.1',
});
console.log(`Transaction: ${tx.id}`);
```

Do NOT change any other section of the README.
  </action>
  <verify>
Read README.md and confirm:
- `balance.balance` appears (not `balance.amount`)
- `balance.symbol` appears (not hardcoded `SOL`)
- `tx.id` appears (not `tx.signature`)
- The rest of the README is unchanged
  </verify>
  <done>README SDK code example field names exactly match BalanceResponse and SendTokenResponse interfaces in packages/sdk/src/types.ts</done>
</task>

<task type="auto">
  <name>Task 2: Extend skill file version sync to cover root skills/ directory</name>
  <files>
    packages/skills/scripts/sync-version.mjs
    skills/quickstart.skill.md
    skills/wallet.skill.md
    skills/transactions.skill.md
    skills/policies.skill.md
    skills/admin.skill.md
    skills/actions.skill.md
    skills/x402.skill.md
  </files>
  <action>
The existing `packages/skills/scripts/sync-version.mjs` only syncs version headers in `packages/skills/skills/`. It needs to ALSO sync the root `skills/` directory (7 files).

Currently root `skills/` files have stale versions like "1.5.0", "1.5.3", "1.6.1", "1.8.0" while the package version is "2.3.0".

Modify `sync-version.mjs` to:
1. Keep the existing logic that syncs `packages/skills/skills/` (the `skillsDir` variable).
2. Add a second pass that syncs the root project `skills/` directory. Use `join(root, '..', '..', 'skills')` to navigate from `packages/skills/` to the project root `skills/` directory.
3. Check that the root skills dir exists before attempting sync (guard with `existsSync`).
4. Use the same regex replacement: `content.replace(/^version:\s*".*"$/m, ...)`.
5. Log with a distinct prefix: `  SYNC  (root) ${file} -> v${version}`.

After modifying the script, run `node packages/skills/scripts/sync-version.mjs` from the project root to execute the sync immediately, updating all 7 root skill files.

Verify the root skill files now have version matching packages/skills/package.json version.
  </action>
  <verify>
Run: `node packages/skills/scripts/sync-version.mjs` (from project root)
Then check: `grep '^version:' skills/*.skill.md` should show the same version for all 7 files, matching packages/skills/package.json version.
Also check: `grep '^version:' packages/skills/skills/*.skill.md` still works (existing behavior preserved).
  </verify>
  <done>All 14 skill files (7 root + 7 packages) have version headers matching packages/skills/package.json version, and the prebuild script syncs both directories</done>
</task>

</tasks>

<verification>
1. `grep 'balance.balance' README.md` returns a match
2. `grep 'balance.amount' README.md` returns NO match
3. `grep 'tx.id' README.md` returns a match
4. `grep 'tx.signature' README.md` returns NO match
5. `grep '^version:' skills/*.skill.md` shows consistent version across all 7 files
6. `grep '^version:' packages/skills/skills/*.skill.md` shows consistent version across all 7 files
7. `pnpm turbo run build --filter=@waiaas/skills` succeeds (prebuild sync runs)
</verification>

<success_criteria>
- README SDK code example compiles without type errors against actual SDK types
- All 14 skill files (root + packages) have version synced to package version
- Build pipeline continues to work (skills prebuild + build)
</success_criteria>

<output>
After completion, create `.planning/phases/196-readme-sdk-docs/196-01-SUMMARY.md`
</output>
