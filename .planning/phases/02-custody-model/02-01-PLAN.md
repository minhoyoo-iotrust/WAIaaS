---
phase: 02-custody-model
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - .planning/deliverables/04-custody-model-comparison.md
  - .planning/deliverables/05-provider-comparison.md
autonomous: true

must_haves:
  truths:
    - "Custodial, Non-custodial, MPC-TSS 세 가지 모델의 장단점이 명확히 비교됨"
    - "HSM, KMS, 자체 MPC 등 직접 구축 옵션이 비교 분석됨"
    - "주요 외부 프로바이더(Turnkey, Crossmint, Dfns 등)의 기능이 참고 자료로 정리됨"
    - "각 모델의 보안성, 운영 복잡도, 비용이 정량적/정성적으로 비교됨"
  artifacts:
    - path: ".planning/deliverables/04-custody-model-comparison.md"
      provides: "커스터디 모델 비교 분석 (CUST-01)"
      contains: "Custodial|Non-custodial|MPC-TSS"
    - path: ".planning/deliverables/05-provider-comparison.md"
      provides: "프로바이더 기능 비교표 (CUST-03)"
      contains: "Turnkey|Crossmint|Dfns"
  key_links:
    - from: ".planning/deliverables/04-custody-model-comparison.md"
      to: ".planning/phases/02-custody-model/02-RESEARCH.md"
      via: "research findings reference"
    - from: ".planning/deliverables/05-provider-comparison.md"
      to: ".planning/phases/02-custody-model/02-CONTEXT.md"
      via: "참고 자료로만 포함 결정 반영"
---

<objective>
커스터디 모델(Custodial, Non-custodial, MPC-TSS)의 장단점을 비교 분석하고, 주요 외부 프로바이더의 기능을 참고 자료로 정리한다.

Purpose: AI 에이전트 지갑에 적합한 커스터디 모델 선택을 위한 기초 분석 자료 제공
Output: CUST-01 커스터디 모델 비교 문서, CUST-03 프로바이더 비교표
</objective>

<execution_context>
@/Users/minho.yoo/.claude/get-shit-done/workflows/execute-plan.md
@/Users/minho.yoo/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/REQUIREMENTS.md
@.planning/phases/02-custody-model/02-CONTEXT.md
@.planning/phases/02-custody-model/02-RESEARCH.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: 커스터디 모델 비교 분석 문서 작성 (CUST-01)</name>
  <files>.planning/deliverables/04-custody-model-comparison.md</files>
  <action>
    커스터디 모델 비교 분석 문서를 작성한다.

    **문서 구조:**
    1. 개요: 커스터디 모델 분류 및 분석 목적
    2. 모델별 상세 분석:
       - Custodial (수탁형): 키 소유권, 장단점, 규제 적합성, AI 에이전트 적합성
       - Non-custodial (비수탁형): 키 소유권, 장단점, 위험 요소, AI 에이전트 적합성
       - MPC-TSS (다자간 연산): 키 분산 방식, 장단점, 운영 복잡도, AI 에이전트 적합성
    3. 직접 구축 옵션 비교 (중점 분석):
       - HSM (Hardware Security Module): AWS CloudHSM 등
       - KMS (Key Management Service): AWS KMS ED25519 지원
       - 자체 MPC 구현: CGGMP21 등
       - TEE (Trusted Execution Environment): AWS Nitro Enclaves
    4. 비교 매트릭스:
       | 기준 | Custodial | Non-custodial | MPC-TSS | HSM | KMS | TEE |
       - 키 소유권
       - 단일 장애점
       - 복구 가능성
       - 운영 복잡도
       - 비용 (정성적)
       - 규제 준수
       - AI 에이전트 적합성
    5. 하이브리드 접근법: KMS + TEE + 온체인 멀티시그 조합의 이점

    **참고 자료:**
    - 02-RESEARCH.md의 "Custody Model Comparison" 섹션
    - 02-RESEARCH.md의 "Standard Stack" 권장 스택
    - 02-CONTEXT.md의 "보안성 최우선" 결정

    **작성 원칙:**
    - 각 모델의 장단점을 객관적으로 분석
    - "왜 이 모델이 AI 에이전트에 적합/부적합한가" 명시
    - 직접 구축 옵션에 중점 (외부 프로바이더 의존 배제 방향)
    - 보안 위협 관점에서 각 모델 평가
  </action>
  <verify>
    - 파일 생성 확인: ls -la .planning/deliverables/04-custody-model-comparison.md
    - Custodial, Non-custodial, MPC-TSS 세 모델이 모두 포함되었는지 grep으로 확인
    - HSM, KMS, TEE 직접 구축 옵션이 포함되었는지 확인
    - 비교 매트릭스 테이블이 포함되었는지 확인
  </verify>
  <done>
    - 04-custody-model-comparison.md 파일이 생성됨
    - Custodial, Non-custodial, MPC-TSS 모델의 장단점이 명확히 분석됨
    - HSM, KMS, TEE 직접 구축 옵션이 비교됨
    - 각 모델의 AI 에이전트 적합성이 평가됨
    - 하이브리드 접근법의 이점이 설명됨
  </done>
</task>

<task type="auto">
  <name>Task 2: 외부 프로바이더 기능 비교표 작성 (CUST-03)</name>
  <files>.planning/deliverables/05-provider-comparison.md</files>
  <action>
    외부 WaaS 프로바이더 기능 비교표를 참고 자료로 작성한다.

    **중요:** 02-CONTEXT.md에 따라 이 문서는 "참고 자료로만 포함"한다.
    WAIaaS는 직접 구축 방향이므로, 프로바이더 선택이 아닌 벤치마킹 목적임을 명시.

    **문서 구조:**
    1. 개요: 비교 목적 (벤치마킹, 기능 참조용)
    2. 프로바이더 개별 분석:
       - Turnkey: TEE 기반 보안, Solana 지원, 정책 엔진, 가격 모델
       - Dfns: MPC (CGGMP21), 다중 체인, 가격 모델
       - Crossmint: Smart Wallet, Agent Wallets 특화, 가격 모델
       - Privy: SSS + Enclaves, 임베디드 지갑, 가격 모델
       - Dynamic: TSS-MPC, 다중 체인, 가격 모델
       - Capsule (선택): MPC, 소셜 로그인 통합
    3. 기능 비교표:
       | 프로바이더 | 보안 모델 | Solana 지원 | AI 에이전트 특화 | 정책 엔진 | SDK 품질 | 가격 모델 |
    4. 직접 구축 vs 프로바이더 비교:
       - 벤더 락인 위험
       - 비용 분석 (장기적 관점)
       - 데이터 주권
       - 커스터마이징 유연성
    5. 결론: 직접 구축 권장 근거 (02-CONTEXT.md 결정 반영)

    **참고 자료:**
    - 02-RESEARCH.md의 "외부 프로바이더 비교 (참고용)" 테이블
    - 02-CONTEXT.md의 "프로바이더 비교: 외부 WaaS 프로바이더... 참고 자료로만 포함"

    **작성 원칙:**
    - 각 프로바이더의 강점/약점 객관적 분석
    - AI 에이전트 특화 기능 중점 비교
    - 가격 정보는 변동 가능하므로 참고 수준으로 명시
    - "왜 직접 구축이 더 나은가"의 논거 포함
  </action>
  <verify>
    - 파일 생성 확인: ls -la .planning/deliverables/05-provider-comparison.md
    - Turnkey, Crossmint, Dfns 세 프로바이더가 모두 포함되었는지 확인
    - "참고 자료" 또는 "벤치마킹" 목적임이 명시되었는지 확인
    - 직접 구축 vs 프로바이더 비교 섹션이 포함되었는지 확인
  </verify>
  <done>
    - 05-provider-comparison.md 파일이 생성됨
    - Turnkey, Crossmint, Dfns 등 주요 프로바이더 기능이 비교됨
    - 문서가 "참고 자료"로 명시됨 (직접 구축 방향 반영)
    - 직접 구축 vs 프로바이더 비교 섹션이 포함됨
    - 프로바이더 기능 비교표가 작성됨
  </done>
</task>

</tasks>

<verification>
1. CUST-01 요구사항 충족:
   - Custodial, Non-custodial, MPC/TSS 모델의 장단점이 비교 분석됨
   - 직접 구축 옵션 (HSM, KMS, MPC, TEE)이 분석됨

2. CUST-03 요구사항 충족:
   - 주요 프로바이더 (Turnkey, Crossmint, Dfns) 기능이 비교됨
   - 참고 자료로 포지셔닝됨 (직접 구축 방향 반영)

3. 02-CONTEXT.md 결정 준수:
   - 외부 프로바이더 의존 배제 방향 반영
   - 보안성 최우선 관점 반영
</verification>

<success_criteria>
- [ ] 04-custody-model-comparison.md 파일 생성됨 (최소 200줄)
- [ ] 05-provider-comparison.md 파일 생성됨 (최소 150줄)
- [ ] 세 가지 커스터디 모델의 장단점이 명확히 분석됨
- [ ] 직접 구축 옵션 (HSM, KMS, TEE)이 비교됨
- [ ] 프로바이더 비교표가 참고 자료로 작성됨
- [ ] 모든 내용이 한글로 작성됨
</success_criteria>

<output>
After completion, create `.planning/phases/02-custody-model/02-01-SUMMARY.md`
</output>
