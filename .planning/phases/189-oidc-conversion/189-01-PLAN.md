---
phase: 189-oidc-conversion
plan: 01
type: execute
wave: 1
depends_on: []
files_modified: []
autonomous: false
requirements: [OIDC-01]

must_haves:
  truths:
    - "npmjs.com에서 8개 패키지 모두 Trusted Publisher로 등록되어 있다"
    - "각 패키지의 Trusted Publisher 설정이 Owner=minhoyoo-iotrust, Repository=WAIaaS, Workflow=release.yml, Environment=production으로 일치한다"
  artifacts: []
  key_links:
    - from: "npmjs.com Trusted Publisher config (per package)"
      to: "release.yml deploy job environment: production"
      via: "Environment field must match"
      pattern: "environment: production"
---

<objective>
npmjs.com 웹 UI에서 8개 @waiaas/* 패키지 각각에 Trusted Publisher를 등록한다.

Purpose: OIDC 인증 기반 npm publish가 동작하려면, npmjs.com에서 패키지별로 Trusted Publisher가 등록되어 있어야 한다. 이 등록이 없으면 npm CLI의 OIDC 토큰 교환이 404로 실패한다.
Output: npmjs.com에서 8개 패키지 모두 Trusted Publisher 등록 완료
</objective>

<execution_context>
@/Users/minho.yoo/.claude/get-shit-done/workflows/execute-plan.md
@/Users/minho.yoo/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/189-oidc-conversion/189-RESEARCH.md
</context>

<tasks>

<task type="checkpoint:human-action" gate="blocking">
  <name>Task 1: npmjs.com에서 8개 패키지 Trusted Publisher 등록</name>
  <action>
사용자가 npmjs.com 웹 UI에서 아래 8개 패키지 각각에 Trusted Publisher를 등록해야 한다.
이 작업은 npmjs.com 웹 인터페이스에서만 가능하며, CLI/API로 자동화할 수 없다.

**등록할 패키지 목록 (8개):**

| # | 패키지명 | 등록 URL |
|---|---------|----------|
| 1 | @waiaas/core | https://www.npmjs.com/package/@waiaas/core/access |
| 2 | @waiaas/daemon | https://www.npmjs.com/package/@waiaas/daemon/access |
| 3 | @waiaas/cli | https://www.npmjs.com/package/@waiaas/cli/access |
| 4 | @waiaas/sdk | https://www.npmjs.com/package/@waiaas/sdk/access |
| 5 | @waiaas/mcp | https://www.npmjs.com/package/@waiaas/mcp/access |
| 6 | @waiaas/skills | https://www.npmjs.com/package/@waiaas/skills/access |
| 7 | @waiaas/adapter-solana | https://www.npmjs.com/package/@waiaas/adapter-solana/access |
| 8 | @waiaas/adapter-evm | https://www.npmjs.com/package/@waiaas/adapter-evm/access |

**각 패키지에서 입력할 값 (모두 동일):**

- **Provider:** GitHub Actions
- **Owner:** minhoyoo-iotrust (대소문자 정확히)
- **Repository:** WAIaaS (대소문자 정확히 -- W, A, S 대문자)
- **Workflow:** release.yml
- **Environment:** production

**주의사항:**
- 모든 필드는 case-sensitive이다
- Owner는 `minhoyoo-iotrust`이지 `minhoyoo-IoTrust`가 아니다
- Repository는 `WAIaaS`이지 `waiaas`가 아니다
- Environment는 release.yml의 `environment: production`과 정확히 일치해야 한다
- 각 패키지는 한 번에 하나의 Trusted Publisher만 가질 수 있다

**절차 (패키지당):**
1. 위 URL로 이동 (npm에 로그인된 상태)
2. "Publishing access" 또는 "Trusted publishers" 섹션 찾기
3. "Add trusted publisher" 클릭
4. Provider로 "GitHub Actions" 선택
5. Owner, Repository, Workflow, Environment 값 입력
6. Save/Add 클릭
7. 등록 완료 확인
  </action>
  <how-to-verify>
8개 패키지 모두 등록 완료 후, 각 패키지의 access 페이지에서 Trusted Publisher 섹션에 다음이 표시되는지 확인:
- Repository: minhoyoo-iotrust/WAIaaS
- Workflow: release.yml
- Environment: production

체크리스트:
- [ ] @waiaas/core -- Trusted Publisher 등록 완료
- [ ] @waiaas/daemon -- Trusted Publisher 등록 완료
- [ ] @waiaas/cli -- Trusted Publisher 등록 완료
- [ ] @waiaas/sdk -- Trusted Publisher 등록 완료
- [ ] @waiaas/mcp -- Trusted Publisher 등록 완료
- [ ] @waiaas/skills -- Trusted Publisher 등록 완료
- [ ] @waiaas/adapter-solana -- Trusted Publisher 등록 완료
- [ ] @waiaas/adapter-evm -- Trusted Publisher 등록 완료
  </how-to-verify>
  <resume-signal>8개 패키지 모두 등록 완료 후 "done" 입력, 또는 문제가 있으면 설명</resume-signal>
  <done>npmjs.com에서 8개 @waiaas/* 패키지 모두 GitHub Actions Trusted Publisher로 등록되어 있다 (Owner=minhoyoo-iotrust, Repository=WAIaaS, Workflow=release.yml, Environment=production)</done>
</task>

</tasks>

<verification>
- npmjs.com 각 패키지 access 페이지에서 Trusted Publisher 설정 확인
- 모든 8개 패키지가 동일한 설정으로 등록되어 있는지 확인
</verification>

<success_criteria>
1. 8개 패키지 모두 npmjs.com Trusted Publisher로 등록 완료
2. 각 패키지의 설정이 Owner=minhoyoo-iotrust, Repository=WAIaaS, Workflow=release.yml, Environment=production으로 일치
</success_criteria>

<output>
After completion, create `.planning/phases/189-oidc-conversion/189-01-SUMMARY.md`
</output>
